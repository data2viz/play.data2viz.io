!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){(function(e,o){var i;
/*!
 * Platform.js <https://mths.be/platform>
 * Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <https://mths.be/mit>
 */(function(){"use strict";var r={function:!0,object:!0},a=r[typeof window]&&window||this,s=r[typeof t]&&t,l=r[typeof e]&&e&&!e.nodeType&&e,c=s&&l&&"object"==typeof o&&o;!c||c.global!==c&&c.window!==c&&c.self!==c||(a=c);var u=Math.pow(2,53)-1,d=/\bOpera/,b=Object.prototype,p=b.hasOwnProperty,f=b.toString;function h(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function m(e){return e=O(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:h(e)}function S(e,t){for(var n in e)p.call(e,n)&&t(e[n],n,e)}function g(e){return null==e?h(e):f.call(e).slice(8,-1)}function x(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function E(e,t){var n=null;return function(e,t){var n=-1,o=e?e.length:0;if("number"==typeof o&&o>-1&&o<=u)for(;++n<o;)t(e[n],n,e);else S(e,t)}(e,function(o,i){n=t(n,o,i,e)}),n}function O(e){return String(e).replace(/^ +| +$/g,"")}var y=function e(t){var n=a,o=t&&"object"==typeof t&&"String"!=g(t);o&&(n=t,t=null);var i=n.navigator||{},r=i.userAgent||"";t||(t=r);var s,l,c=o?!!i.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(f.toString()),u=o?"Object":"ScriptBridgingProxyObject",b=o?"Object":"Environment",p=o&&n.java?"JavaPackage":g(n.java),h=o?"Object":"RuntimeObject",y=/\bJava/.test(p)&&n.java,_=y&&g(n.environment)==b,w=y?"a":"α",v=y?"b":"β",M=n.document||{},C=n.operamini||n.opera,A=d.test(A=o&&C?C["[[Class]]"]:g(C))?A:C=null,P=t,T=[],I=null,R=t==r,k=R&&C&&"function"==typeof C.version&&C.version(),N=function(e){return E(e,function(e,n){return e||RegExp("\\b"+(n.pattern||x(n))+"\\b","i").exec(t)&&(n.label||n)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),B=function(e){return E(e,function(e,n){return e||RegExp("\\b"+(n.pattern||x(n))+"\\b","i").exec(t)&&(n.label||n)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),F=G([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),W=function(e){return E(e,function(e,n,o){return e||(n[F]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(F)]||RegExp("\\b"+x(o)+"(?:\\b|\\w*\\d)","i").exec(t))&&o})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),L=function(e){return E(e,function(e,n){var o=n.pattern||x(n);return!e&&(e=RegExp("\\b"+o+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var o={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(o=o[/[\d.]+$/.exec(e)])&&(e="Windows "+o),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=m(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,o,n.label||n)),e})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function G(e){return E(e,function(e,n){var o=n.pattern||x(n);return!e&&(e=RegExp("\\b"+o+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+o+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+o+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(o,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=m(e[0].replace(RegExp(o,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e})}if(N&&(N=[N]),W&&!F&&(F=G([W])),(s=/\bGoogle TV\b/.exec(F))&&(F=s[0]),/\bSimulator\b/i.test(t)&&(F=(F?F+" ":"")+"Simulator"),"Opera Mini"==B&&/\bOPiOS\b/.test(t)&&T.push("running in Turbo/Uncompressed mode"),"IE"==B&&/\blike iPhone OS\b/.test(t)?(W=(s=e(t.replace(/like iPhone OS/,""))).manufacturer,F=s.product):/^iP/.test(F)?(B||(B="Safari"),L="iOS"+((s=/ OS ([\d_]+)/i.exec(t))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"!=B||/buntu/i.test(L)?W&&"Google"!=W&&(/Chrome/.test(B)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(F))||/\bAndroid\b/.test(L)&&/^Chrome/.test(B)&&/\bVersion\//i.test(t)?(B="Android Browser",L=/\bAndroid\b/.test(L)?L:"Android"):"Silk"==B?(/\bMobi/i.test(t)||(L="Android",T.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&T.unshift("accelerated")):"PaleMoon"==B&&(s=/\bFirefox\/([\d.]+)\b/.exec(t))?T.push("identifying as Firefox "+s[1]):"Firefox"==B&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(L||(L="Firefox OS"),F||(F=s[1])):!B||(s=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(B))?(B&&!F&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(s+"/")+8))&&(B=null),(s=F||W||L)&&(F||W||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(L))&&(B=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(L)?L:s)+" Browser")):"Electron"==B&&(s=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&T.push("Chromium "+s):L="Kubuntu",k||(k=function(e){return E(e,function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",x(B),"(?:Firefox|Minefield|NetFront)"])),(s=("iCab"==N&&parseFloat(k)>3?"WebKit":/\bOpera\b/.test(B)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(N)&&"WebKit"||!N&&/\bMSIE\b/i.test(t)&&("Mac OS"==L?"Tasman":"Trident")||"WebKit"==N&&/\bPlayStation\b(?! Vita\b)/i.test(B)&&"NetFront")&&(N=[s]),"IE"==B&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(B+=" Mobile",L="Windows Phone "+(/\+$/.test(s)?s:s+".x"),T.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(B="IE Mobile",L="Windows Phone 8.x",T.unshift("desktop mode"),k||(k=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=B&&"Trident"==N&&(s=/\brv:([\d.]+)/.exec(t))&&(B&&T.push("identifying as "+B+(k?" "+k:"")),B="IE",k=s[1]),R){if(function(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}(n,"global"))if(y&&(P=(s=y.lang.System).getProperty("os.arch"),L=L||s.getProperty("os.name")+" "+s.getProperty("os.version")),_){try{k=n.require("ringo/engine").version.join("."),B="RingoJS"}catch(e){(s=n.system)&&s.global.system==n.system&&(B="Narwhal",L||(L=s[0].os||null))}B||(B="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(s=n.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(T.push("Node "+s.versions.node),B="Electron",k=s.versions.electron):"string"==typeof s.versions.nw&&(T.push("Chromium "+k,"Node "+s.versions.node),B="NW.js",k=s.versions.nw)),B||(B="Node.js",P=s.arch,L=s.platform,k=(k=/[\d.]+/.exec(s.version))?k[0]:null));else g(s=n.runtime)==u?(B="Adobe AIR",L=s.flash.system.Capabilities.os):g(s=n.phantom)==h?(B="PhantomJS",k=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof M.documentMode&&(s=/\bTrident\/(\d+)/i.exec(t))?(k=[k,M.documentMode],(s=+s[1]+4)!=k[1]&&(T.push("IE "+k[1]+" mode"),N&&(N[1]=""),k[1]=s),k="IE"==B?String(k[1].toFixed(1)):k[0]):"number"==typeof M.documentMode&&/^(?:Chrome|Firefox)\b/.test(B)&&(T.push("masking as "+B+" "+k),B="IE",k="11.0",N=["Trident"],L="Windows");L=L&&m(L)}if(k&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(k)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(R&&i.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(I=/b/i.test(s)?"beta":"alpha",k=k.replace(RegExp(s+"\\+?$"),"")+("beta"==I?v:w)+(/\d+\+?/.exec(s)||"")),"Fennec"==B||"Firefox"==B&&/\b(?:Android|Firefox OS)\b/.test(L))B="Firefox Mobile";else if("Maxthon"==B&&k)k=k.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(F))"Xbox 360"==F&&(L=null),"Xbox 360"==F&&/\bIEMobile\b/.test(t)&&T.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(B)&&(!B||F||/Browser|Mobi/.test(B))||"Windows CE"!=L&&!/Mobi/i.test(t))if("IE"==B&&R)try{null===n.external&&T.unshift("platform preview")}catch(e){T.unshift("embedded")}else(/\bBlackBerry\b/.test(F)||/\bBB10\b/.test(t))&&(s=(RegExp(F.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||k)?(L=((s=[s,/BB10/.test(t)])[1]?(F=null,W="BlackBerry"):"Device Software")+" "+s[0],k=null):this!=S&&"Wii"!=F&&(R&&C||/Opera/.test(B)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==B&&/\bOS X (?:\d+\.){2,}/.test(L)||"IE"==B&&(L&&!/^Win/.test(L)&&k>5.5||/\bWindows XP\b/.test(L)&&k>8||8==k&&!/\bTrident\b/.test(t)))&&!d.test(s=e.call(S,t.replace(d,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),d.test(B)?(/\bIE\b/.test(s)&&"Mac OS"==L&&(L=null),s="identify"+s):(s="mask"+s,B=A?m(A.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(L=null),R||(k=null)),N=["Presto"],T.push(s));else B+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==B&&"+"==s[1].slice(-1)?(B="WebKit Nightly",I="alpha",k=s[1].slice(0,-1)):k!=s[1]&&k!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(k=null),s[1]=(/\bChrome\/([\d.]+)/i.exec(t)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==N&&(N=["Blink"]),R&&(c||s[1])?(N&&(N[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=N?"27":"28")):(N&&(N[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:"8"),N&&(N[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==B&&(!k||parseInt(k)>45)&&(k=s)),"Opera"==B&&(s=/\bzbov|zvav$/.exec(L))?(B+=" ",T.unshift("desktop mode"),"zvav"==s?(B+="Mini",k=null):B+="Mobile",L=L.replace(RegExp(" *"+s+"$"),"")):"Safari"==B&&/\bChrome\b/.exec(N&&N[1])&&(T.unshift("desktop mode"),B="Chrome Mobile",k=null,/\bOS X\b/.test(L)?(W="Apple",L="iOS 4.3+"):L=null),k&&0==k.indexOf(s=/[\d.]+$/.exec(L))&&t.indexOf("/"+s+"-")>-1&&(L=O(L.replace(s,""))),N&&!/\b(?:Avant|Nook)\b/.test(B)&&(/Browser|Lunascape|Maxthon/.test(B)||"Safari"!=B&&/^iOS/.test(L)&&/\bSafari\b/.test(N[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(B)&&N[1])&&(s=N[N.length-1])&&T.push(s),T.length&&(T=["("+T.join("; ")+")"]),W&&F&&F.indexOf(W)<0&&T.push("on "+W),F&&T.push((/^on /.test(T[T.length-1])?"":"on ")+F),L&&(s=/ ([\d.+]+)$/.exec(L),l=s&&"/"==L.charAt(L.length-s[0].length-1),L={architecture:32,family:s&&!l?L.replace(s[0],""):L,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(P))&&!/\bi686\b/i.test(P)?(L&&(L.architecture=64,L.family=L.family.replace(RegExp(" *"+s),"")),B&&(/\bWOW64\b/i.test(t)||R&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(t))&&T.unshift("32-bit")):L&&/^OS X/.test(L.family)&&"Chrome"==B&&parseFloat(k)>=39&&(L.architecture=64),t||(t=null);var $={};return $.description=t,$.layout=N&&N[0],$.manufacturer=W,$.name=B,$.prerelease=I,$.product=F,$.ua=t,$.version=B&&k,$.os=L||{architecture:null,family:null,version:null,toString:function(){return"null"}},$.parse=e,$.toString=function(){return this.description||""},$.version&&T.unshift(k),$.name&&T.unshift(B),L&&B&&(L!=String(L).split(" ")[0]||L!=B.split(" ")[0]&&!F)&&T.push(F?"("+L+")":"on "+L),T.length&&($.description=T.join(" ")),$}();a.platform=y,void 0===(i=function(){return y}.call(t,n,t,e))||(e.exports=i)}).call(this)}).call(this,n(1)(e),n(2))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){},function(e,t,n){e.exports=n.p+"images/logo-play.png"},function(e,t,n){e.exports=n.p+"images/logo-negative.png"},function(e,t,n){e.exports=n.p+"images/go-back-to-main-page.png"},function(e,t,n){e.exports=n.p+"images/logo-play-io_all_min-color_variation-v3.png"},function(e,t,n){"use strict";function o(e){let t=!1;window.addEventListener("scroll",n=>{t||window.requestAnimationFrame(()=>{e(),t=!1}),t=!0})}function i(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}var r;function a(e){let t=!0;for(const n of e)n.isActive&&t?(t=!1,n.classname="active"):n.classname="unactive"}n.r(t),function(e){e.CODE_AREA=".code-area",e.CONTENT="#d2v-content",e.CURRENT_SECTION_NAME="#current-section-name",e.TOP_HEADER="#d2v-header",e.NAVIGATION_MENU="#site-navigation"}(r||(r={}));class s{constructor(e,t){this._element=e,this._elementInMenu=this.getElementInMenu(t)}get isActive(){return this._element.getBoundingClientRect().top<=window.innerHeight/2}set classname(e){"active"===e?this._elementInMenuContainsActiveClass||this._elementInMenu.classList.add("active"):this._elementInMenuContainsActiveClass&&this._elementInMenu.classList.remove("active")}getElementInMenu(e){const t=document.querySelectorAll(`${r.NAVIGATION_MENU} > li > ul > li > a`);for(const e of t)if(e.getAttribute("href")==="#"+this._element.getAttribute("id"))return e}get _elementInMenuContainsActiveClass(){return void 0!==this._elementInMenu&&this._elementInMenu.classList.contains("active")}}class l{constructor(e){this._editors=[],this._editors=e,this._setListenerForEditorsAutoExecution()}runVisibleEditors(){for(const e of this._editors)e.isOnScreen&&e.hasNotBeenExecuted&&e.execute()}_setListenerForEditorsAutoExecution(){o(()=>{this.runVisibleEditors()})}}function c(e,t,n){const o=document.createElement(e);if("string"==typeof t)o.innerHTML=t;else if(t)for(const e of t)o.appendChild(e);return n&&(o.className=n),o}class u{constructor(e,t,n){this.TEXT_SHORTCUT={run:{macOs:"CTRL + R: run code",windows:"CTRL + F9: run code",linux:"CTRL + F9: run code"}},this.MORE_THAN_ONCE_CODE_CHANGED_CLASSNAME="more-than-once-code-changed",this.SHORTCUT_INFO_CLASSNAME="shortcut-info compiler-info",this._hasBeenExecuted=!1,this._eventFunctions={getInstance:e=>{this._KotlinPlaygroundEditorInstance=e},onChange:e=>{if(this.changedCounter++,2===this.changedCounter&&this.kotlinEditorContainer){let e;switch(this.PLATFORM_OS_USER_NAME){case"OS X":e=this.TEXT_SHORTCUT.run.macOs;break;case"Windows":e=this.TEXT_SHORTCUT.run.windows;break;case"Linux":e=this.TEXT_SHORTCUT.run.linux;break;default:e=""}"Other"!==this.PLATFORM_OS_USER_NAME&&this.kotlinEditorContainer.appendChild(c("div",[c("div",e),c("div","CTRL + SPACE: code completion")],this.SHORTCUT_INFO_CLASSNAME)),this.kotlinEditorContainer.classList.add(this.MORE_THAN_ONCE_CODE_CHANGED_CLASSNAME)}this._onChange&&this._onChange(e)}},this.changedCounter=0,this._selector=e,this.PLATFORM_OS_USER_NAME=t,this._onChange=n}init(){return new Promise(e=>{KotlinPlayground(this._selector,this._eventFunctions).then(()=>{if(this._KotlinPlaygroundEditorInstance){this._kotlinEditorContainer=this._KotlinPlaygroundEditorInstance.nodes[0];const e=this._kotlinEditorContainer.querySelector(r.CODE_AREA);if(null!==e&&e instanceof HTMLElement){this._codeArea=e;const t=e.querySelector(".CodeMirror"),n=u.getCookie("theme");n&&t.classList.add(`cm-s-${n}`)}}e(this)})})}static getCookie(e){const t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}get kotlinEditorContainer(){return this._kotlinEditorContainer}get codeArea(){return this._codeArea}get bottom_of_codeArea_is_above_bottom_of_screen(){return!!this.codeArea&&this.codeArea.getBoundingClientRect().bottom>=0}get bottom_of_codeArea_is_below_top_of_screen(){return!!this.codeArea&&this.codeArea.getBoundingClientRect().bottom<=window.innerHeight}get hasNotBeenExecuted(){return!this._hasBeenExecuted}get isOnScreen(){if(this._KotlinPlaygroundEditorInstance)return this.bottom_of_codeArea_is_above_bottom_of_screen&&this.bottom_of_codeArea_is_below_top_of_screen}execute(){return new Promise((e,t)=>{this._KotlinPlaygroundEditorInstance&&(this._hasBeenExecuted=!0,this._KotlinPlaygroundEditorInstance.execute()),e(),t(new Error("can't execute kotlin playground editor"))})}get KotlinPlaygroundEditorInstance(){return this._KotlinPlaygroundEditorInstance}}var d=n(0),b=n.n(d);function p(){if(!b.a.os)return"Other";switch(b.a.os.family){case"Windows":return"Windows";case"OS X":return"OS X";case"Ubuntu":return"Linux";default:return"Other"}}void 0!==playground&&playground?function(){let e={name:"data2viz playground",code:'console.log("hello")'};const t=function(){const e=window.location.hash.match(/#\/S\/(.*)$/),t={hasScriptData:!1,scriptData:{code:"",name:""}};if(e&&e[1]){const n=JSON.parse(function(e){return RawDeflate.inflate(window.atob(e))}(e[1]));return n.hasOwnProperty("name")&&n.hasOwnProperty("code")?{hasScriptData:!0,scriptData:{code:n.code,name:n.name+" updated"}}:(console.error("script from url isn't type of IScriptData"),t)}return t}(),n=document.querySelector(".kotlin-code");if(n&&n instanceof HTMLElement){t.hasScriptData&&(e=t.scriptData,n.textContent=e.code);const o=t=>{!function(e,t){t.code=e,function(e){const t=`/S/${function(e){return window.btoa(RawDeflate.deflate(e))}(JSON.stringify(e))}`;history.pushState(null,"",`/playground/#${t}`)}(t)}(t,e)};new u(n,p(),o).init().then(e=>{e.execute(),window.onpopstate=(()=>{console.log("history navigation"),e.KotlinPlaygroundEditorInstance&&console.log(e.KotlinPlaygroundEditorInstance.codemirror)})})}}():(new Promise(e=>{const t=document.querySelectorAll(".kotlin-code"),n=[];let o=0;for(const e of t)e instanceof HTMLElement&&n.push(new u(e,p()));for(const t of n)t.init().then(()=>{++o===n.length&&e(new l(n))})}).then(e=>{e.runVisibleEditors()}),function(e,t){const n=document.body,r=void 0===t?0:t.getBoundingClientRect().height;o(()=>{const t=parseInt(window.getComputedStyle(e).paddingTop)-r;i()>=t&&!n.classList.contains("menu-fixed")?n.classList.add("menu-fixed"):i()<=t&&n.classList.contains("menu-fixed")&&n.classList.remove("menu-fixed")})}(document.querySelector(r.CONTENT),document.querySelector(r.TOP_HEADER)),function(){const e=document.querySelector(r.CURRENT_SECTION_NAME);e&&(e.innerHTML=function(){const e=document.querySelector("h1");return e?e.innerHTML:""}())}(),new Promise((e,t)=>{const n=[],o=document.querySelectorAll(`${r.CONTENT} h2`),i=document.querySelector(`${r.NAVIGATION_MENU}`);for(const e of o)n.push(new s(e,i));e(n.reverse()),t(new Error("can't get list of level two in navigation menu"))}).then(e=>{a(e),o(()=>{a(e)})}));n(3),n(4),n(5),n(6),n(7)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BsYXRmb3JtL3BsYXRmb3JtLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2xvZ28tcGxheS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9sb2dvLW5lZ2F0aXZlLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2dvLWJhY2stdG8tbWFpbi1wYWdlLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2xvZ28tcGxheS1pb19hbGxfbWluLWNvbG9yX3ZhcmlhdGlvbi12My5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9nZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3AudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvSFRNTF9TRUxFQ1RPUlMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvbmF2aWdhdGlvbi9zZXROYXZpZ2F0aW9uTWVudS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9lZGl0b3IvRWRpdG9yTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy90b29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9lZGl0b3IvRWRpdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2dldFVzZXJPcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3BsYXlncm91bmQvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9lZGl0b3Ivc2V0RWRpdG9yc01hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvbmF2aWdhdGlvbi9zZXRNZW51UG9zaXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvbmF2aWdhdGlvbi9zZXRDdXJyZW50U2VjdGlvbk5hbWUudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJnbG9iYWwiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsIm9iamVjdFR5cGVzIiwiZnVuY3Rpb24iLCJyb290Iiwid2luZG93IiwidGhpcyIsImZyZWVFeHBvcnRzIiwiZnJlZU1vZHVsZSIsIm5vZGVUeXBlIiwiZnJlZUdsb2JhbCIsInNlbGYiLCJtYXhTYWZlSW50ZWdlciIsIk1hdGgiLCJwb3ciLCJyZU9wZXJhIiwib2JqZWN0UHJvdG8iLCJ0b1N0cmluZyIsImNhcGl0YWxpemUiLCJzdHJpbmciLCJTdHJpbmciLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiZm9ybWF0IiwidHJpbSIsInRlc3QiLCJmb3JPd24iLCJjYWxsYmFjayIsImdldENsYXNzT2YiLCJxdWFsaWZ5IiwicmVwbGFjZSIsInJlZHVjZSIsImFycmF5IiwiYWNjdW11bGF0b3IiLCJpbmRleCIsImxlbmd0aCIsImVhY2giLCJwbGF0Zm9ybSIsInBhcnNlIiwidWEiLCJjb250ZXh0IiwiaXNDdXN0b21Db250ZXh0IiwibmF2IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiZGF0YSIsImlzU3BlY2lhbENhc2VkT1MiLCJsaWtlQ2hyb21lIiwiYWlyUnVudGltZUNsYXNzIiwiZW52aXJvQ2xhc3MiLCJqYXZhQ2xhc3MiLCJqYXZhIiwicGhhbnRvbUNsYXNzIiwicmhpbm8iLCJlbnZpcm9ubWVudCIsImFscGhhIiwiYmV0YSIsImRvYyIsImRvY3VtZW50Iiwib3BlcmEiLCJvcGVyYW1pbmkiLCJvcGVyYUNsYXNzIiwiYXJjaCIsImRlc2NyaXB0aW9uIiwicHJlcmVsZWFzZSIsInVzZUZlYXR1cmVzIiwidmVyc2lvbiIsImxheW91dCIsImd1ZXNzZXMiLCJyZXN1bHQiLCJndWVzcyIsIlJlZ0V4cCIsInBhdHRlcm4iLCJleGVjIiwibGFiZWwiLCJnZXRMYXlvdXQiLCJnZXROYW1lIiwicHJvZHVjdCIsImdldFByb2R1Y3QiLCJtYW51ZmFjdHVyZXIiLCJnZXRNYW51ZmFjdHVyZXIiLCJBcHBsZSIsImlQYWQiLCJpUGhvbmUiLCJpUG9kIiwiQXJjaG9zIiwiQW1hem9uIiwiS2luZGxlIiwiS2luZGxlIEZpcmUiLCJBc3VzIiwiVHJhbnNmb3JtZXIiLCJCYXJuZXMgJiBOb2JsZSIsIk5vb2siLCJCbGFja0JlcnJ5IiwiUGxheUJvb2siLCJHb29nbGUiLCJHb29nbGUgVFYiLCJOZXh1cyIsIkhQIiwiVG91Y2hQYWQiLCJIVEMiLCJMRyIsIk1pY3Jvc29mdCIsIlhib3giLCJYYm94IE9uZSIsIk1vdG9yb2xhIiwiWG9vbSIsIk5pbnRlbmRvIiwiV2lpIFUiLCJXaWkiLCJOb2tpYSIsIkx1bWlhIiwiU2Ftc3VuZyIsIkdhbGF4eSBTIiwiR2FsYXh5IFMyIiwiR2FsYXh5IFMzIiwiR2FsYXh5IFM0IiwiU29ueSIsIlBsYXlTdGF0aW9uIiwiUGxheVN0YXRpb24gVml0YSIsIm9zIiwiMTAuMCIsIjYuNCIsIjYuMyIsIjYuMiIsIjYuMSIsIjYuMCIsIjUuMiIsIjUuMSIsIjUuMDEiLCI1LjAiLCI0LjAiLCI0LjkwIiwic3BsaXQiLCJjbGVhbnVwT1MiLCJnZXRPUyIsInB1c2giLCJ1bnNoaWZ0IiwiaW5kZXhPZiIsInBhdHRlcm5zIiwiZ2V0VmVyc2lvbiIsInBhcnNlRmxvYXQiLCJ0eXBlIiwiaXNIb3N0VHlwZSIsImxhbmciLCJTeXN0ZW0iLCJnZXRQcm9wZXJ0eSIsInJlcXVpcmUiLCJqb2luIiwiZSIsInN5c3RlbSIsInByb2Nlc3MiLCJicm93c2VyIiwidmVyc2lvbnMiLCJlbGVjdHJvbiIsIm5vZGUiLCJudyIsInJ1bnRpbWUiLCJmbGFzaCIsIkNhcGFiaWxpdGllcyIsInBoYW50b20iLCJtYWpvciIsIm1pbm9yIiwicGF0Y2giLCJkb2N1bWVudE1vZGUiLCJ0b0ZpeGVkIiwiYXBwTWlub3JWZXJzaW9uIiwiZXh0ZXJuYWwiLCJwYXJzZUludCIsImFyY2hpdGVjdHVyZSIsImZhbWlseSIsImNwdUNsYXNzIiwidW5kZWZpbmVkIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJjaGlsZHJlbiIsImciLCJGdW5jdGlvbiIsImV2YWwiLCJhZGRTY3JvbGxFdmVudExpc3RlbmVyIiwiZnVuIiwidGlja2luZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImdldFBhZ2VTY3JvbGxQb3NpdGlvblRvcCIsInBhZ2VZT2Zmc2V0IiwiZG9jdW1lbnRFbGVtZW50IiwiYm9keSIsInBhcmVudE5vZGUiLCJzY3JvbGxUb3AiLCJIVE1MX1NFTEVDVE9SUyIsInVwZGF0ZUNoYXB0ZXJTdGF0dUluTmF2aWdhdGlvbk1lbnUiLCJsaXN0T2ZUaXRsZUxldmVsVHdvIiwibGFzdFRpdGxlSXNOb3RGb3VuZCIsInRpdGxlTGV2ZWxUd28iLCJpc0FjdGl2ZSIsImNsYXNzbmFtZSIsInNldE5hdmlnYXRpb25NZW51X0NoYXB0ZXIiLCJbb2JqZWN0IE9iamVjdF0iLCJlbGVtZW50IiwibmF2aWdhdGlvbk1lbnVFbGVtZW50IiwiX2VsZW1lbnQiLCJfZWxlbWVudEluTWVudSIsImdldEVsZW1lbnRJbk1lbnUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJpbm5lckhlaWdodCIsIl9lbGVtZW50SW5NZW51Q29udGFpbnNBY3RpdmVDbGFzcyIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImxpc3RPZkxldmVsVHdvSW5NZW51IiwicXVlcnlTZWxlY3RvckFsbCIsIk5BVklHQVRJT05fTUVOVSIsImxldmVsVHdvRWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImNvbnRhaW5zIiwiRWRpdG9yTWFuYWdlcl9FZGl0b3JNYW5hZ2VyIiwia290bGluRWRpdG9ycyIsIl9lZGl0b3JzIiwiX3NldExpc3RlbmVyRm9yRWRpdG9yc0F1dG9FeGVjdXRpb24iLCJlZGl0b3IiLCJpc09uU2NyZWVuIiwiaGFzTm90QmVlbkV4ZWN1dGVkIiwiZXhlY3V0ZSIsInJ1blZpc2libGVFZGl0b3JzIiwiY3JlYXRlSFRNTEVsZW1lbnQiLCJ0YWdOYW1lIiwiY29udGVudCIsIm5ld0VsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiaHRtbEVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImNsYXNzTmFtZSIsIkVkaXRvcl9FZGl0b3IiLCJzZWxlY3RvciIsInBsYXRmb3JtT3NOYW1lIiwib25DaGFuZ2UiLCJURVhUX1NIT1JUQ1VUIiwicnVuIiwibWFjT3MiLCJ3aW5kb3dzIiwibGludXgiLCJNT1JFX1RIQU5fT05DRV9DT0RFX0NIQU5HRURfQ0xBU1NOQU1FIiwiU0hPUlRDVVRfSU5GT19DTEFTU05BTUUiLCJfaGFzQmVlbkV4ZWN1dGVkIiwiX2V2ZW50RnVuY3Rpb25zIiwiZ2V0SW5zdGFuY2UiLCJfS290bGluUGxheWdyb3VuZEVkaXRvckluc3RhbmNlIiwiY29kZSIsImNoYW5nZWRDb3VudGVyIiwia290bGluRWRpdG9yQ29udGFpbmVyIiwidGV4dEluU2hvcnRjdXRIZWxwZXJFbGVtZW50IiwiUExBVEZPUk1fT1NfVVNFUl9OQU1FIiwiX29uQ2hhbmdlIiwiX3NlbGVjdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJLb3RsaW5QbGF5Z3JvdW5kIiwidGhlbiIsIl9rb3RsaW5FZGl0b3JDb250YWluZXIiLCJub2RlcyIsImNvZGVBcmVhIiwicXVlcnlTZWxlY3RvciIsIkNPREVfQVJFQSIsIkhUTUxFbGVtZW50IiwiX2NvZGVBcmVhIiwiY29kZU1pcnJvclN0eWxlRWxlbWVudCIsImVkaXRvclRoZW1lQ2xhc3NuYW1lIiwiZ2V0Q29va2llIiwibWF0Y2giLCJjb29raWUiLCJib3R0b21fb2ZfY29kZUFyZWFfaXNfYWJvdmVfYm90dG9tX29mX3NjcmVlbiIsImJvdHRvbSIsImJvdHRvbV9vZl9jb2RlQXJlYV9pc19iZWxvd190b3Bfb2Zfc2NyZWVuIiwicmVqZWN0IiwiRXJyb3IiLCJLb3RsaW5QbGF5Z3JvdW5kRWRpdG9ySW5zdGFuY2UiLCJnZXRVc2VyT3MiLCJwbGF0Zm9ybV9kZWZhdWx0IiwiYSIsInBsYXlncm91bmQiLCJzY3JpcHREYXRhIiwidXJsRGF0YSIsImxvY2F0aW9uIiwiaGFzaCIsImRlZmF1bHRSZXR1cm4iLCJoYXNTY3JpcHREYXRhIiwic2NyaXB0RnJvbVVybCIsIkpTT04iLCJSYXdEZWZsYXRlIiwiaW5mbGF0ZSIsImF0b2IiLCJkZWNvZGUiLCJjb25zb2xlIiwiZXJyb3IiLCJnZXRVcmxEYXRhIiwiY29kZUVsZW1lbnRGb3JLb3RsaW5QbGF5Z3JvdW5kIiwidGV4dENvbnRlbnQiLCJvbkNvZGVDaGFuZ2UiLCJzY3JpcHQiLCJsb2NhdGlvbkhhc2giLCJidG9hIiwiZGVmbGF0ZSIsImVuY29kZSIsInN0cmluZ2lmeSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJ1cGRhdGVIYXNoIiwidXBkYXRlVXJsQW5kU2NyaXB0RGF0YSIsImluaXQiLCJvbnBvcHN0YXRlIiwibG9nIiwiY29kZW1pcnJvciIsInVybFNjcmlwdEhpc3RvcnkiLCJjb2RlRWxlbWVudHNGb3JLb3RsaW5QbGF5Z3JvdW5kRWRpdG9ySW5pdCIsImxpc3RPZkVkaXRvciIsIm51bWJlck9mRWRpdG9yc0luaXRpYWxpc2VkIiwiY29kZUVsZW1lbnQiLCJlZGl0b3JNYW5hZ2VyIiwicmVmZXJlbmNlRWxlbWVudEZvckZpeGVkTWVudSIsInRvcEVsZW1lbnRGaXhlZE92ZXJNZW51IiwiaGVpZ2h0T2ZGaXhlZEVsZW1lbnRUaGF0SGlkZXNNZW51IiwiaGVpZ2h0IiwicmVmUG9zaXRpb25Gb3JGaXhlZE1lbnUiLCJnZXRDb21wdXRlZFN0eWxlIiwicGFkZGluZ1RvcCIsInNldE1lbnVQb3NpdGlvbiIsIkNPTlRFTlQiLCJUT1BfSEVBREVSIiwiY3VycmVudFNlY3Rpb25OYW1lRWxlbWVudCIsIkNVUlJFTlRfU0VDVElPTl9OQU1FIiwicGFnZVRpdGxlRWxlbWVudCIsImdldEN1cnJlbnRTZWN0aW9uTmFtZSIsInNldEN1cnJlbnRTZWN0aW9uTmFtZSIsImxpc3RUb1JldHVybiIsIlRJVExFX1RXT19FTEVNRU5UUyIsIk5BVklHQVRJT05fTUVOVV9FTEVNRU5UIiwibmF2aWdhdGlvblR3b0VsZW1lbnQiLCJyZXZlcnNlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFD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Z0csRUFBMkNDLEdBRXZFLE1BRU12SSxFQUFPbkksU0FBU21JLEtBRWhCd0ksT0FBZ0V6SixJQUE1QndKLEVBQXlDLEVBQUlBLEVBQXdCdEgsd0JBQXdCd0gsT0FFdklsSixFQUF1QixLQUVuQixNQUVNbUosRUFGMEIvSixTQUFVcEssT0FBT29VLGlCQUFpQkwsR0FBOEJNLFlBRXRDSixFQUV2RDNJLEtBQThCNkksSUFBNEIxSSxFQUFLcUIsVUFBVVEsU0FabEQsY0FhdEI3QixFQUFLcUIsVUFBVUMsSUFiTyxjQWNmekIsS0FBOEI2SSxHQUEyQjFJLEVBQUtxQixVQUFVUSxTQWR6RCxlQWV0QjdCLEVBQUtxQixVQUFVRSxPQWZPLGdCSGM5QnNILENBQ0loUixTQUFTZ04sY0FBYzFFLEVBQWUySSxTQUN0Q2pSLFNBQVNnTixjQUFjMUUsRUFBZTRJLGFJckJ2QyxXQUNILE1BQU1DLEVBQTRCblIsU0FBU2dOLGNBQWMxRSxFQUFlOEksc0JBRXJFRCxJQUNDQSxFQUEwQnBHLFVBSWxDLFdBQ0ksTUFBTXNHLEVBQW1CclIsU0FBU2dOLGNBQWMsTUFDaEQsT0FBR3FFLEVBQ1FBLEVBQWlCdEcsVUFFakIsR0FUK0J1RyxJSm9CMUNDLEdMQ08sSUFBSTlFLFFBQVEsQ0FBQ0MsRUFBU2tCLEtBQ3pCLE1BQU00RCxLQUVBQyxFQUFxQnpSLFNBQVM0SixvQkFBb0J0QixFQUFlMkksY0FDakVTLEVBQTBCMVIsU0FBU2dOLGlCQUFpQjFFLEVBQWV1QixtQkFFekUsSUFBSSxNQUFNOEgsS0FBd0JGLEVBQzlCRCxFQUFhMU0sS0FBSyxJQUFJK0QsRUFBUThJLEVBQXNCRCxJQUd4RGhGLEVBQVE4RSxFQUFhSSxXQUVyQmhFLEVBQU8sSUFBSUMsTUFBTSxxREFuQ0dqQixLQUFNdFIsSUFDMUJpTixFQUFtQ2pOLEdBRW5Db00sRUFBdUIsS0FDbkJhLEVBQW1Dak4iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA4KTtcbiIsIi8qIVxuICogUGxhdGZvcm0uanMgPGh0dHBzOi8vbXRocy5iZS9wbGF0Zm9ybT5cbiAqIENvcHlyaWdodCAyMDE0LTIwMTggQmVuamFtaW4gVGFuIDxodHRwczovL2Juam1udDRuLm5vdy5zaC8+XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDEzIEpvaG4tRGF2aWQgRGFsdG9uIDxodHRwOi8vYWxseW91Y2FubGVldC5jb20vPlxuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL210aHMuYmUvbWl0PlxuICovXG47KGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZXJtaW5lIGlmIHZhbHVlcyBhcmUgb2YgdGhlIGxhbmd1YWdlIHR5cGUgYE9iamVjdGAuICovXG4gIHZhciBvYmplY3RUeXBlcyA9IHtcbiAgICAnZnVuY3Rpb24nOiB0cnVlLFxuICAgICdvYmplY3QnOiB0cnVlXG4gIH07XG5cbiAgLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG4gIHZhciByb290ID0gKG9iamVjdFR5cGVzW3R5cGVvZiB3aW5kb3ddICYmIHdpbmRvdykgfHwgdGhpcztcblxuICAvKiogQmFja3VwIHBvc3NpYmxlIGdsb2JhbCBvYmplY3QuICovXG4gIHZhciBvbGRSb290ID0gcm9vdDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSBvYmplY3RUeXBlc1t0eXBlb2YgZXhwb3J0c10gJiYgZXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG4gIHZhciBmcmVlTW9kdWxlID0gb2JqZWN0VHlwZXNbdHlwZW9mIG1vZHVsZV0gJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMgb3IgQnJvd3NlcmlmaWVkIGNvZGUgYW5kIHVzZSBpdCBhcyBgcm9vdGAuICovXG4gIHZhciBmcmVlR2xvYmFsID0gZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSAmJiB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcbiAgaWYgKGZyZWVHbG9iYWwgJiYgKGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8IGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8IGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbCkpIHtcbiAgICByb290ID0gZnJlZUdsb2JhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGFzIHRoZSBtYXhpbXVtIGxlbmd0aCBvZiBhbiBhcnJheS1saWtlIG9iamVjdC5cbiAgICogU2VlIHRoZSBbRVM2IHNwZWNdKGh0dHA6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLXRvbGVuZ3RoKVxuICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgdmFyIG1heFNhZmVJbnRlZ2VyID0gTWF0aC5wb3coMiwgNTMpIC0gMTtcblxuICAvKiogUmVndWxhciBleHByZXNzaW9uIHRvIGRldGVjdCBPcGVyYS4gKi9cbiAgdmFyIHJlT3BlcmEgPSAvXFxiT3BlcmEvO1xuXG4gIC8qKiBQb3NzaWJsZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgdGhpc0JpbmRpbmcgPSB0aGlzO1xuXG4gIC8qKiBVc2VkIGZvciBuYXRpdmUgbWV0aG9kIHJlZmVyZW5jZXMuICovXG4gIHZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbiAgLyoqIFVzZWQgdG8gY2hlY2sgZm9yIG93biBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdC4gKi9cbiAgdmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbiAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgaW50ZXJuYWwgYFtbQ2xhc3NdXWAgb2YgdmFsdWVzLiAqL1xuICB2YXIgdG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ2FwaXRhbGl6ZXMgYSBzdHJpbmcgdmFsdWUuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjYXBpdGFsaXplLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY2FwaXRhbGl6ZWQgc3RyaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgICBzdHJpbmcgPSBTdHJpbmcoc3RyaW5nKTtcbiAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgdXRpbGl0eSBmdW5jdGlvbiB0byBjbGVhbiB1cCB0aGUgT1MgbmFtZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9zIFRoZSBPUyBuYW1lIHRvIGNsZWFuIHVwLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhdHRlcm5dIEEgYFJlZ0V4cGAgcGF0dGVybiBtYXRjaGluZyB0aGUgT1MgbmFtZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtsYWJlbF0gQSBsYWJlbCBmb3IgdGhlIE9TLlxuICAgKi9cbiAgZnVuY3Rpb24gY2xlYW51cE9TKG9zLCBwYXR0ZXJuLCBsYWJlbCkge1xuICAgIC8vIFBsYXRmb3JtIHRva2VucyBhcmUgZGVmaW5lZCBhdDpcbiAgICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1Mzc1MDMoVlMuODUpLmFzcHhcbiAgICAvLyBodHRwOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDA4MTEyMjA1Mzk1MC9odHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1Mzc1MDMoVlMuODUpLmFzcHhcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgICcxMC4wJzogJzEwJyxcbiAgICAgICc2LjQnOiAgJzEwIFRlY2huaWNhbCBQcmV2aWV3JyxcbiAgICAgICc2LjMnOiAgJzguMScsXG4gICAgICAnNi4yJzogICc4JyxcbiAgICAgICc2LjEnOiAgJ1NlcnZlciAyMDA4IFIyIC8gNycsXG4gICAgICAnNi4wJzogICdTZXJ2ZXIgMjAwOCAvIFZpc3RhJyxcbiAgICAgICc1LjInOiAgJ1NlcnZlciAyMDAzIC8gWFAgNjQtYml0JyxcbiAgICAgICc1LjEnOiAgJ1hQJyxcbiAgICAgICc1LjAxJzogJzIwMDAgU1AxJyxcbiAgICAgICc1LjAnOiAgJzIwMDAnLFxuICAgICAgJzQuMCc6ICAnTlQnLFxuICAgICAgJzQuOTAnOiAnTUUnXG4gICAgfTtcbiAgICAvLyBEZXRlY3QgV2luZG93cyB2ZXJzaW9uIGZyb20gcGxhdGZvcm0gdG9rZW5zLlxuICAgIGlmIChwYXR0ZXJuICYmIGxhYmVsICYmIC9eV2luL2kudGVzdChvcykgJiYgIS9eV2luZG93cyBQaG9uZSAvaS50ZXN0KG9zKSAmJlxuICAgICAgICAoZGF0YSA9IGRhdGFbL1tcXGQuXSskLy5leGVjKG9zKV0pKSB7XG4gICAgICBvcyA9ICdXaW5kb3dzICcgKyBkYXRhO1xuICAgIH1cbiAgICAvLyBDb3JyZWN0IGNoYXJhY3RlciBjYXNlIGFuZCBjbGVhbnVwIHN0cmluZy5cbiAgICBvcyA9IFN0cmluZyhvcyk7XG5cbiAgICBpZiAocGF0dGVybiAmJiBsYWJlbCkge1xuICAgICAgb3MgPSBvcy5yZXBsYWNlKFJlZ0V4cChwYXR0ZXJuLCAnaScpLCBsYWJlbCk7XG4gICAgfVxuXG4gICAgb3MgPSBmb3JtYXQoXG4gICAgICBvcy5yZXBsYWNlKC8gY2UkL2ksICcgQ0UnKVxuICAgICAgICAucmVwbGFjZSgvXFxiaHB3L2ksICd3ZWInKVxuICAgICAgICAucmVwbGFjZSgvXFxiTWFjaW50b3NoXFxiLywgJ01hYyBPUycpXG4gICAgICAgIC5yZXBsYWNlKC9fUG93ZXJQQ1xcYi9pLCAnIE9TJylcbiAgICAgICAgLnJlcGxhY2UoL1xcYihPUyBYKSBbXiBcXGRdKy9pLCAnJDEnKVxuICAgICAgICAucmVwbGFjZSgvXFxiTWFjIChPUyBYKVxcYi8sICckMScpXG4gICAgICAgIC5yZXBsYWNlKC9cXC8oXFxkKS8sICcgJDEnKVxuICAgICAgICAucmVwbGFjZSgvXy9nLCAnLicpXG4gICAgICAgIC5yZXBsYWNlKC8oPzogQmVQQ3xbIC5dKmZjWyBcXGQuXSspJC9pLCAnJylcbiAgICAgICAgLnJlcGxhY2UoL1xcYng4NlxcLjY0XFxiL2dpLCAneDg2XzY0JylcbiAgICAgICAgLnJlcGxhY2UoL1xcYihXaW5kb3dzIFBob25lKSBPU1xcYi8sICckMScpXG4gICAgICAgIC5yZXBsYWNlKC9cXGIoQ2hyb21lIE9TIFxcdyspIFtcXGQuXStcXGIvLCAnJDEnKVxuICAgICAgICAuc3BsaXQoJyBvbiAnKVswXVxuICAgICk7XG5cbiAgICByZXR1cm4gb3M7XG4gIH1cblxuICAvKipcbiAgICogQW4gaXRlcmF0aW9uIHV0aWxpdHkgZm9yIGFycmF5cyBhbmQgb2JqZWN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gZWFjaChvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IG9iamVjdCA/IG9iamVjdC5sZW5ndGggOiAwO1xuXG4gICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgJiYgbGVuZ3RoID4gLTEgJiYgbGVuZ3RoIDw9IG1heFNhZmVJbnRlZ2VyKSB7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjayhvYmplY3RbaW5kZXhdLCBpbmRleCwgb2JqZWN0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yT3duKG9iamVjdCwgY2FsbGJhY2spO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmltIGFuZCBjb25kaXRpb25hbGx5IGNhcGl0YWxpemUgc3RyaW5nIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGZvcm1hdC5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCBzdHJpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBmb3JtYXQoc3RyaW5nKSB7XG4gICAgc3RyaW5nID0gdHJpbShzdHJpbmcpO1xuICAgIHJldHVybiAvXig/OndlYk9TfGkoPzpPU3xQKSkvLnRlc3Qoc3RyaW5nKVxuICAgICAgPyBzdHJpbmdcbiAgICAgIDogY2FwaXRhbGl6ZShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgYW4gb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMsIGV4ZWN1dGluZyB0aGUgYGNhbGxiYWNrYCBmb3IgZWFjaC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIGV4ZWN1dGVkIHBlciBvd24gcHJvcGVydHkuXG4gICAqL1xuICBmdW5jdGlvbiBmb3JPd24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgICBjYWxsYmFjayhvYmplY3Rba2V5XSwga2V5LCBvYmplY3QpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBgW1tDbGFzc11dYCBvZiBhIHZhbHVlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGBbW0NsYXNzXV1gLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0Q2xhc3NPZih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsXG4gICAgICA/IGNhcGl0YWxpemUodmFsdWUpXG4gICAgICA6IHRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIb3N0IG9iamVjdHMgY2FuIHJldHVybiB0eXBlIHZhbHVlcyB0aGF0IGFyZSBkaWZmZXJlbnQgZnJvbSB0aGVpciBhY3R1YWxcbiAgICogZGF0YSB0eXBlLiBUaGUgb2JqZWN0cyB3ZSBhcmUgY29uY2VybmVkIHdpdGggdXN1YWxseSByZXR1cm4gbm9uLXByaW1pdGl2ZVxuICAgKiB0eXBlcyBvZiBcIm9iamVjdFwiLCBcImZ1bmN0aW9uXCIsIG9yIFwidW5rbm93blwiLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgb3duZXIgb2YgdGhlIHByb3BlcnR5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgVGhlIHByb3BlcnR5IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IHZhbHVlIGlzIGEgbm9uLXByaW1pdGl2ZSwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaXNIb3N0VHlwZShvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgdmFyIHR5cGUgPSBvYmplY3QgIT0gbnVsbCA/IHR5cGVvZiBvYmplY3RbcHJvcGVydHldIDogJ251bWJlcic7XG4gICAgcmV0dXJuICEvXig/OmJvb2xlYW58bnVtYmVyfHN0cmluZ3x1bmRlZmluZWQpJC8udGVzdCh0eXBlKSAmJlxuICAgICAgKHR5cGUgPT0gJ29iamVjdCcgPyAhIW9iamVjdFtwcm9wZXJ0eV0gOiB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmVwYXJlcyBhIHN0cmluZyBmb3IgdXNlIGluIGEgYFJlZ0V4cGAgYnkgbWFraW5nIGh5cGhlbnMgYW5kIHNwYWNlcyBvcHRpb25hbC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHF1YWxpZnkuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBxdWFsaWZpZWQgc3RyaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gcXVhbGlmeShzdHJpbmcpIHtcbiAgICByZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZSgvKFsgLV0pKD8hJCkvZywgJyQxPycpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgYmFyZS1ib25lcyBgQXJyYXkjcmVkdWNlYCBsaWtlIHV0aWxpdHkgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMgeyp9IFRoZSBhY2N1bXVsYXRlZCByZXN1bHQuXG4gICAqL1xuICBmdW5jdGlvbiByZWR1Y2UoYXJyYXksIGNhbGxiYWNrKSB7XG4gICAgdmFyIGFjY3VtdWxhdG9yID0gbnVsbDtcbiAgICBlYWNoKGFycmF5LCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gY2FsbGJhY2soYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgYXJyYXkpO1xuICAgIH0pO1xuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UgZnJvbSBhIHN0cmluZy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSB0cmltbWVkIHN0cmluZy5cbiAgICovXG4gIGZ1bmN0aW9uIHRyaW0oc3RyaW5nKSB7XG4gICAgcmV0dXJuIFN0cmluZyhzdHJpbmcpLnJlcGxhY2UoL14gK3wgKyQvZywgJycpO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgcGxhdGZvcm0gb2JqZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyT2YgcGxhdGZvcm1cbiAgICogQHBhcmFtIHtPYmplY3R8c3RyaW5nfSBbdWE9bmF2aWdhdG9yLnVzZXJBZ2VudF0gVGhlIHVzZXIgYWdlbnQgc3RyaW5nIG9yXG4gICAqICBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge09iamVjdH0gQSBwbGF0Zm9ybSBvYmplY3QuXG4gICAqL1xuICBmdW5jdGlvbiBwYXJzZSh1YSkge1xuXG4gICAgLyoqIFRoZSBlbnZpcm9ubWVudCBjb250ZXh0IG9iamVjdC4gKi9cbiAgICB2YXIgY29udGV4dCA9IHJvb3Q7XG5cbiAgICAvKiogVXNlZCB0byBmbGFnIHdoZW4gYSBjdXN0b20gY29udGV4dCBpcyBwcm92aWRlZC4gKi9cbiAgICB2YXIgaXNDdXN0b21Db250ZXh0ID0gdWEgJiYgdHlwZW9mIHVhID09ICdvYmplY3QnICYmIGdldENsYXNzT2YodWEpICE9ICdTdHJpbmcnO1xuXG4gICAgLy8gSnVnZ2xlIGFyZ3VtZW50cy5cbiAgICBpZiAoaXNDdXN0b21Db250ZXh0KSB7XG4gICAgICBjb250ZXh0ID0gdWE7XG4gICAgICB1YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqIEJyb3dzZXIgbmF2aWdhdG9yIG9iamVjdC4gKi9cbiAgICB2YXIgbmF2ID0gY29udGV4dC5uYXZpZ2F0b3IgfHwge307XG5cbiAgICAvKiogQnJvd3NlciB1c2VyIGFnZW50IHN0cmluZy4gKi9cbiAgICB2YXIgdXNlckFnZW50ID0gbmF2LnVzZXJBZ2VudCB8fCAnJztcblxuICAgIHVhIHx8ICh1YSA9IHVzZXJBZ2VudCk7XG5cbiAgICAvKiogVXNlZCB0byBmbGFnIHdoZW4gYHRoaXNCaW5kaW5nYCBpcyB0aGUgW01vZHVsZVNjb3BlXS4gKi9cbiAgICB2YXIgaXNNb2R1bGVTY29wZSA9IGlzQ3VzdG9tQ29udGV4dCB8fCB0aGlzQmluZGluZyA9PSBvbGRSb290O1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGJyb3dzZXIgaXMgbGlrZSBDaHJvbWUuICovXG4gICAgdmFyIGxpa2VDaHJvbWUgPSBpc0N1c3RvbUNvbnRleHRcbiAgICAgID8gISFuYXYubGlrZUNocm9tZVxuICAgICAgOiAvXFxiQ2hyb21lXFxiLy50ZXN0KHVhKSAmJiAhL2ludGVybmFsfFxcbi9pLnRlc3QodG9TdHJpbmcudG9TdHJpbmcoKSk7XG5cbiAgICAvKiogSW50ZXJuYWwgYFtbQ2xhc3NdXWAgdmFsdWUgc2hvcnRjdXRzLiAqL1xuICAgIHZhciBvYmplY3RDbGFzcyA9ICdPYmplY3QnLFxuICAgICAgICBhaXJSdW50aW1lQ2xhc3MgPSBpc0N1c3RvbUNvbnRleHQgPyBvYmplY3RDbGFzcyA6ICdTY3JpcHRCcmlkZ2luZ1Byb3h5T2JqZWN0JyxcbiAgICAgICAgZW52aXJvQ2xhc3MgPSBpc0N1c3RvbUNvbnRleHQgPyBvYmplY3RDbGFzcyA6ICdFbnZpcm9ubWVudCcsXG4gICAgICAgIGphdmFDbGFzcyA9IChpc0N1c3RvbUNvbnRleHQgJiYgY29udGV4dC5qYXZhKSA/ICdKYXZhUGFja2FnZScgOiBnZXRDbGFzc09mKGNvbnRleHQuamF2YSksXG4gICAgICAgIHBoYW50b21DbGFzcyA9IGlzQ3VzdG9tQ29udGV4dCA/IG9iamVjdENsYXNzIDogJ1J1bnRpbWVPYmplY3QnO1xuXG4gICAgLyoqIERldGVjdCBKYXZhIGVudmlyb25tZW50cy4gKi9cbiAgICB2YXIgamF2YSA9IC9cXGJKYXZhLy50ZXN0KGphdmFDbGFzcykgJiYgY29udGV4dC5qYXZhO1xuXG4gICAgLyoqIERldGVjdCBSaGluby4gKi9cbiAgICB2YXIgcmhpbm8gPSBqYXZhICYmIGdldENsYXNzT2YoY29udGV4dC5lbnZpcm9ubWVudCkgPT0gZW52aXJvQ2xhc3M7XG5cbiAgICAvKiogQSBjaGFyYWN0ZXIgdG8gcmVwcmVzZW50IGFscGhhLiAqL1xuICAgIHZhciBhbHBoYSA9IGphdmEgPyAnYScgOiAnXFx1MDNiMSc7XG5cbiAgICAvKiogQSBjaGFyYWN0ZXIgdG8gcmVwcmVzZW50IGJldGEuICovXG4gICAgdmFyIGJldGEgPSBqYXZhID8gJ2InIDogJ1xcdTAzYjInO1xuXG4gICAgLyoqIEJyb3dzZXIgZG9jdW1lbnQgb2JqZWN0LiAqL1xuICAgIHZhciBkb2MgPSBjb250ZXh0LmRvY3VtZW50IHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IE9wZXJhIGJyb3dzZXIgKFByZXN0by1iYXNlZCkuXG4gICAgICogaHR0cDovL3d3dy5ob3d0b2NyZWF0ZS5jby51ay9vcGVyYVN0dWZmL29wZXJhT2JqZWN0Lmh0bWxcbiAgICAgKiBodHRwOi8vZGV2Lm9wZXJhLmNvbS9hcnRpY2xlcy92aWV3L29wZXJhLW1pbmktd2ViLWNvbnRlbnQtYXV0aG9yaW5nLWd1aWRlbGluZXMvI29wZXJhbWluaVxuICAgICAqL1xuICAgIHZhciBvcGVyYSA9IGNvbnRleHQub3BlcmFtaW5pIHx8IGNvbnRleHQub3BlcmE7XG5cbiAgICAvKiogT3BlcmEgYFtbQ2xhc3NdXWAuICovXG4gICAgdmFyIG9wZXJhQ2xhc3MgPSByZU9wZXJhLnRlc3Qob3BlcmFDbGFzcyA9IChpc0N1c3RvbUNvbnRleHQgJiYgb3BlcmEpID8gb3BlcmFbJ1tbQ2xhc3NdXSddIDogZ2V0Q2xhc3NPZihvcGVyYSkpXG4gICAgICA/IG9wZXJhQ2xhc3NcbiAgICAgIDogKG9wZXJhID0gbnVsbCk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKiogVGVtcG9yYXJ5IHZhcmlhYmxlIHVzZWQgb3ZlciB0aGUgc2NyaXB0J3MgbGlmZXRpbWUuICovXG4gICAgdmFyIGRhdGE7XG5cbiAgICAvKiogVGhlIENQVSBhcmNoaXRlY3R1cmUuICovXG4gICAgdmFyIGFyY2ggPSB1YTtcblxuICAgIC8qKiBQbGF0Zm9ybSBkZXNjcmlwdGlvbiBhcnJheS4gKi9cbiAgICB2YXIgZGVzY3JpcHRpb24gPSBbXTtcblxuICAgIC8qKiBQbGF0Zm9ybSBhbHBoYS9iZXRhIGluZGljYXRvci4gKi9cbiAgICB2YXIgcHJlcmVsZWFzZSA9IG51bGw7XG5cbiAgICAvKiogQSBmbGFnIHRvIGluZGljYXRlIHRoYXQgZW52aXJvbm1lbnQgZmVhdHVyZXMgc2hvdWxkIGJlIHVzZWQgdG8gcmVzb2x2ZSB0aGUgcGxhdGZvcm0uICovXG4gICAgdmFyIHVzZUZlYXR1cmVzID0gdWEgPT0gdXNlckFnZW50O1xuXG4gICAgLyoqIFRoZSBicm93c2VyL2Vudmlyb25tZW50IHZlcnNpb24uICovXG4gICAgdmFyIHZlcnNpb24gPSB1c2VGZWF0dXJlcyAmJiBvcGVyYSAmJiB0eXBlb2Ygb3BlcmEudmVyc2lvbiA9PSAnZnVuY3Rpb24nICYmIG9wZXJhLnZlcnNpb24oKTtcblxuICAgIC8qKiBBIGZsYWcgdG8gaW5kaWNhdGUgaWYgdGhlIE9TIGVuZHMgd2l0aCBcIi8gVmVyc2lvblwiICovXG4gICAgdmFyIGlzU3BlY2lhbENhc2VkT1M7XG5cbiAgICAvKiBEZXRlY3RhYmxlIGxheW91dCBlbmdpbmVzIChvcmRlciBpcyBpbXBvcnRhbnQpLiAqL1xuICAgIHZhciBsYXlvdXQgPSBnZXRMYXlvdXQoW1xuICAgICAgeyAnbGFiZWwnOiAnRWRnZUhUTUwnLCAncGF0dGVybic6ICdFZGdlJyB9LFxuICAgICAgJ1RyaWRlbnQnLFxuICAgICAgeyAnbGFiZWwnOiAnV2ViS2l0JywgJ3BhdHRlcm4nOiAnQXBwbGVXZWJLaXQnIH0sXG4gICAgICAnaUNhYicsXG4gICAgICAnUHJlc3RvJyxcbiAgICAgICdOZXRGcm9udCcsXG4gICAgICAnVGFzbWFuJyxcbiAgICAgICdLSFRNTCcsXG4gICAgICAnR2Vja28nXG4gICAgXSk7XG5cbiAgICAvKiBEZXRlY3RhYmxlIGJyb3dzZXIgbmFtZXMgKG9yZGVyIGlzIGltcG9ydGFudCkuICovXG4gICAgdmFyIG5hbWUgPSBnZXROYW1lKFtcbiAgICAgICdBZG9iZSBBSVInLFxuICAgICAgJ0Fyb3JhJyxcbiAgICAgICdBdmFudCBCcm93c2VyJyxcbiAgICAgICdCcmVhY2gnLFxuICAgICAgJ0NhbWlubycsXG4gICAgICAnRWxlY3Ryb24nLFxuICAgICAgJ0VwaXBoYW55JyxcbiAgICAgICdGZW5uZWMnLFxuICAgICAgJ0Zsb2NrJyxcbiAgICAgICdHYWxlb24nLFxuICAgICAgJ0dyZWVuQnJvd3NlcicsXG4gICAgICAnaUNhYicsXG4gICAgICAnSWNld2Vhc2VsJyxcbiAgICAgICdLLU1lbGVvbicsXG4gICAgICAnS29ucXVlcm9yJyxcbiAgICAgICdMdW5hc2NhcGUnLFxuICAgICAgJ01heHRob24nLFxuICAgICAgeyAnbGFiZWwnOiAnTWljcm9zb2Z0IEVkZ2UnLCAncGF0dGVybic6ICdFZGdlJyB9LFxuICAgICAgJ01pZG9yaScsXG4gICAgICAnTm9vayBCcm93c2VyJyxcbiAgICAgICdQYWxlTW9vbicsXG4gICAgICAnUGhhbnRvbUpTJyxcbiAgICAgICdSYXZlbicsXG4gICAgICAnUmVrb25xJyxcbiAgICAgICdSb2NrTWVsdCcsXG4gICAgICB7ICdsYWJlbCc6ICdTYW1zdW5nIEludGVybmV0JywgJ3BhdHRlcm4nOiAnU2Ftc3VuZ0Jyb3dzZXInIH0sXG4gICAgICAnU2VhTW9ua2V5JyxcbiAgICAgIHsgJ2xhYmVsJzogJ1NpbGsnLCAncGF0dGVybic6ICcoPzpDbG91ZDl8U2lsay1BY2NlbGVyYXRlZCknIH0sXG4gICAgICAnU2xlaXBuaXInLFxuICAgICAgJ1NsaW1Ccm93c2VyJyxcbiAgICAgIHsgJ2xhYmVsJzogJ1NSV2FyZSBJcm9uJywgJ3BhdHRlcm4nOiAnSXJvbicgfSxcbiAgICAgICdTdW5yaXNlJyxcbiAgICAgICdTd2lmdGZveCcsXG4gICAgICAnV2F0ZXJmb3gnLFxuICAgICAgJ1dlYlBvc2l0aXZlJyxcbiAgICAgICdPcGVyYSBNaW5pJyxcbiAgICAgIHsgJ2xhYmVsJzogJ09wZXJhIE1pbmknLCAncGF0dGVybic6ICdPUGlPUycgfSxcbiAgICAgICdPcGVyYScsXG4gICAgICB7ICdsYWJlbCc6ICdPcGVyYScsICdwYXR0ZXJuJzogJ09QUicgfSxcbiAgICAgICdDaHJvbWUnLFxuICAgICAgeyAnbGFiZWwnOiAnQ2hyb21lIE1vYmlsZScsICdwYXR0ZXJuJzogJyg/OkNyaU9TfENyTW8pJyB9LFxuICAgICAgeyAnbGFiZWwnOiAnRmlyZWZveCcsICdwYXR0ZXJuJzogJyg/OkZpcmVmb3h8TWluZWZpZWxkKScgfSxcbiAgICAgIHsgJ2xhYmVsJzogJ0ZpcmVmb3ggZm9yIGlPUycsICdwYXR0ZXJuJzogJ0Z4aU9TJyB9LFxuICAgICAgeyAnbGFiZWwnOiAnSUUnLCAncGF0dGVybic6ICdJRU1vYmlsZScgfSxcbiAgICAgIHsgJ2xhYmVsJzogJ0lFJywgJ3BhdHRlcm4nOiAnTVNJRScgfSxcbiAgICAgICdTYWZhcmknXG4gICAgXSk7XG5cbiAgICAvKiBEZXRlY3RhYmxlIHByb2R1Y3RzIChvcmRlciBpcyBpbXBvcnRhbnQpLiAqL1xuICAgIHZhciBwcm9kdWN0ID0gZ2V0UHJvZHVjdChbXG4gICAgICB7ICdsYWJlbCc6ICdCbGFja0JlcnJ5JywgJ3BhdHRlcm4nOiAnQkIxMCcgfSxcbiAgICAgICdCbGFja0JlcnJ5JyxcbiAgICAgIHsgJ2xhYmVsJzogJ0dhbGF4eSBTJywgJ3BhdHRlcm4nOiAnR1QtSTkwMDAnIH0sXG4gICAgICB7ICdsYWJlbCc6ICdHYWxheHkgUzInLCAncGF0dGVybic6ICdHVC1JOTEwMCcgfSxcbiAgICAgIHsgJ2xhYmVsJzogJ0dhbGF4eSBTMycsICdwYXR0ZXJuJzogJ0dULUk5MzAwJyB9LFxuICAgICAgeyAnbGFiZWwnOiAnR2FsYXh5IFM0JywgJ3BhdHRlcm4nOiAnR1QtSTk1MDAnIH0sXG4gICAgICB7ICdsYWJlbCc6ICdHYWxheHkgUzUnLCAncGF0dGVybic6ICdTTS1HOTAwJyB9LFxuICAgICAgeyAnbGFiZWwnOiAnR2FsYXh5IFM2JywgJ3BhdHRlcm4nOiAnU00tRzkyMCcgfSxcbiAgICAgIHsgJ2xhYmVsJzogJ0dhbGF4eSBTNiBFZGdlJywgJ3BhdHRlcm4nOiAnU00tRzkyNScgfSxcbiAgICAgIHsgJ2xhYmVsJzogJ0dhbGF4eSBTNycsICdwYXR0ZXJuJzogJ1NNLUc5MzAnIH0sXG4gICAgICB7ICdsYWJlbCc6ICdHYWxheHkgUzcgRWRnZScsICdwYXR0ZXJuJzogJ1NNLUc5MzUnIH0sXG4gICAgICAnR29vZ2xlIFRWJyxcbiAgICAgICdMdW1pYScsXG4gICAgICAnaVBhZCcsXG4gICAgICAnaVBvZCcsXG4gICAgICAnaVBob25lJyxcbiAgICAgICdLaW5kbGUnLFxuICAgICAgeyAnbGFiZWwnOiAnS2luZGxlIEZpcmUnLCAncGF0dGVybic6ICcoPzpDbG91ZDl8U2lsay1BY2NlbGVyYXRlZCknIH0sXG4gICAgICAnTmV4dXMnLFxuICAgICAgJ05vb2snLFxuICAgICAgJ1BsYXlCb29rJyxcbiAgICAgICdQbGF5U3RhdGlvbiBWaXRhJyxcbiAgICAgICdQbGF5U3RhdGlvbicsXG4gICAgICAnVG91Y2hQYWQnLFxuICAgICAgJ1RyYW5zZm9ybWVyJyxcbiAgICAgIHsgJ2xhYmVsJzogJ1dpaSBVJywgJ3BhdHRlcm4nOiAnV2lpVScgfSxcbiAgICAgICdXaWknLFxuICAgICAgJ1hib3ggT25lJyxcbiAgICAgIHsgJ2xhYmVsJzogJ1hib3ggMzYwJywgJ3BhdHRlcm4nOiAnWGJveCcgfSxcbiAgICAgICdYb29tJ1xuICAgIF0pO1xuXG4gICAgLyogRGV0ZWN0YWJsZSBtYW51ZmFjdHVyZXJzLiAqL1xuICAgIHZhciBtYW51ZmFjdHVyZXIgPSBnZXRNYW51ZmFjdHVyZXIoe1xuICAgICAgJ0FwcGxlJzogeyAnaVBhZCc6IDEsICdpUGhvbmUnOiAxLCAnaVBvZCc6IDEgfSxcbiAgICAgICdBcmNob3MnOiB7fSxcbiAgICAgICdBbWF6b24nOiB7ICdLaW5kbGUnOiAxLCAnS2luZGxlIEZpcmUnOiAxIH0sXG4gICAgICAnQXN1cyc6IHsgJ1RyYW5zZm9ybWVyJzogMSB9LFxuICAgICAgJ0Jhcm5lcyAmIE5vYmxlJzogeyAnTm9vayc6IDEgfSxcbiAgICAgICdCbGFja0JlcnJ5JzogeyAnUGxheUJvb2snOiAxIH0sXG4gICAgICAnR29vZ2xlJzogeyAnR29vZ2xlIFRWJzogMSwgJ05leHVzJzogMSB9LFxuICAgICAgJ0hQJzogeyAnVG91Y2hQYWQnOiAxIH0sXG4gICAgICAnSFRDJzoge30sXG4gICAgICAnTEcnOiB7fSxcbiAgICAgICdNaWNyb3NvZnQnOiB7ICdYYm94JzogMSwgJ1hib3ggT25lJzogMSB9LFxuICAgICAgJ01vdG9yb2xhJzogeyAnWG9vbSc6IDEgfSxcbiAgICAgICdOaW50ZW5kbyc6IHsgJ1dpaSBVJzogMSwgICdXaWknOiAxIH0sXG4gICAgICAnTm9raWEnOiB7ICdMdW1pYSc6IDEgfSxcbiAgICAgICdTYW1zdW5nJzogeyAnR2FsYXh5IFMnOiAxLCAnR2FsYXh5IFMyJzogMSwgJ0dhbGF4eSBTMyc6IDEsICdHYWxheHkgUzQnOiAxIH0sXG4gICAgICAnU29ueSc6IHsgJ1BsYXlTdGF0aW9uJzogMSwgJ1BsYXlTdGF0aW9uIFZpdGEnOiAxIH1cbiAgICB9KTtcblxuICAgIC8qIERldGVjdGFibGUgb3BlcmF0aW5nIHN5c3RlbXMgKG9yZGVyIGlzIGltcG9ydGFudCkuICovXG4gICAgdmFyIG9zID0gZ2V0T1MoW1xuICAgICAgJ1dpbmRvd3MgUGhvbmUnLFxuICAgICAgJ0FuZHJvaWQnLFxuICAgICAgJ0NlbnRPUycsXG4gICAgICB7ICdsYWJlbCc6ICdDaHJvbWUgT1MnLCAncGF0dGVybic6ICdDck9TJyB9LFxuICAgICAgJ0RlYmlhbicsXG4gICAgICAnRmVkb3JhJyxcbiAgICAgICdGcmVlQlNEJyxcbiAgICAgICdHZW50b28nLFxuICAgICAgJ0hhaWt1JyxcbiAgICAgICdLdWJ1bnR1JyxcbiAgICAgICdMaW51eCBNaW50JyxcbiAgICAgICdPcGVuQlNEJyxcbiAgICAgICdSZWQgSGF0JyxcbiAgICAgICdTdVNFJyxcbiAgICAgICdVYnVudHUnLFxuICAgICAgJ1h1YnVudHUnLFxuICAgICAgJ0N5Z3dpbicsXG4gICAgICAnU3ltYmlhbiBPUycsXG4gICAgICAnaHB3T1MnLFxuICAgICAgJ3dlYk9TICcsXG4gICAgICAnd2ViT1MnLFxuICAgICAgJ1RhYmxldCBPUycsXG4gICAgICAnVGl6ZW4nLFxuICAgICAgJ0xpbnV4JyxcbiAgICAgICdNYWMgT1MgWCcsXG4gICAgICAnTWFjaW50b3NoJyxcbiAgICAgICdNYWMnLFxuICAgICAgJ1dpbmRvd3MgOTg7JyxcbiAgICAgICdXaW5kb3dzICdcbiAgICBdKTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFBpY2tzIHRoZSBsYXlvdXQgZW5naW5lIGZyb20gYW4gYXJyYXkgb2YgZ3Vlc3Nlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZ3Vlc3NlcyBBbiBhcnJheSBvZiBndWVzc2VzLlxuICAgICAqIEByZXR1cm5zIHtudWxsfHN0cmluZ30gVGhlIGRldGVjdGVkIGxheW91dCBlbmdpbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TGF5b3V0KGd1ZXNzZXMpIHtcbiAgICAgIHJldHVybiByZWR1Y2UoZ3Vlc3NlcywgZnVuY3Rpb24ocmVzdWx0LCBndWVzcykge1xuICAgICAgICByZXR1cm4gcmVzdWx0IHx8IFJlZ0V4cCgnXFxcXGInICsgKFxuICAgICAgICAgIGd1ZXNzLnBhdHRlcm4gfHwgcXVhbGlmeShndWVzcylcbiAgICAgICAgKSArICdcXFxcYicsICdpJykuZXhlYyh1YSkgJiYgKGd1ZXNzLmxhYmVsIHx8IGd1ZXNzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBpY2tzIHRoZSBtYW51ZmFjdHVyZXIgZnJvbSBhbiBhcnJheSBvZiBndWVzc2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBndWVzc2VzIEFuIG9iamVjdCBvZiBndWVzc2VzLlxuICAgICAqIEByZXR1cm5zIHtudWxsfHN0cmluZ30gVGhlIGRldGVjdGVkIG1hbnVmYWN0dXJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYW51ZmFjdHVyZXIoZ3Vlc3Nlcykge1xuICAgICAgcmV0dXJuIHJlZHVjZShndWVzc2VzLCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgICAgLy8gTG9va3VwIHRoZSBtYW51ZmFjdHVyZXIgYnkgcHJvZHVjdCBvciBzY2FuIHRoZSBVQSBmb3IgdGhlIG1hbnVmYWN0dXJlci5cbiAgICAgICAgcmV0dXJuIHJlc3VsdCB8fCAoXG4gICAgICAgICAgdmFsdWVbcHJvZHVjdF0gfHxcbiAgICAgICAgICB2YWx1ZVsvXlthLXpdKyg/OiArW2Etel0rXFxiKSovaS5leGVjKHByb2R1Y3QpXSB8fFxuICAgICAgICAgIFJlZ0V4cCgnXFxcXGInICsgcXVhbGlmeShrZXkpICsgJyg/OlxcXFxifFxcXFx3KlxcXFxkKScsICdpJykuZXhlYyh1YSlcbiAgICAgICAgKSAmJiBrZXk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQaWNrcyB0aGUgYnJvd3NlciBuYW1lIGZyb20gYW4gYXJyYXkgb2YgZ3Vlc3Nlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZ3Vlc3NlcyBBbiBhcnJheSBvZiBndWVzc2VzLlxuICAgICAqIEByZXR1cm5zIHtudWxsfHN0cmluZ30gVGhlIGRldGVjdGVkIGJyb3dzZXIgbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROYW1lKGd1ZXNzZXMpIHtcbiAgICAgIHJldHVybiByZWR1Y2UoZ3Vlc3NlcywgZnVuY3Rpb24ocmVzdWx0LCBndWVzcykge1xuICAgICAgICByZXR1cm4gcmVzdWx0IHx8IFJlZ0V4cCgnXFxcXGInICsgKFxuICAgICAgICAgIGd1ZXNzLnBhdHRlcm4gfHwgcXVhbGlmeShndWVzcylcbiAgICAgICAgKSArICdcXFxcYicsICdpJykuZXhlYyh1YSkgJiYgKGd1ZXNzLmxhYmVsIHx8IGd1ZXNzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBpY2tzIHRoZSBPUyBuYW1lIGZyb20gYW4gYXJyYXkgb2YgZ3Vlc3Nlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZ3Vlc3NlcyBBbiBhcnJheSBvZiBndWVzc2VzLlxuICAgICAqIEByZXR1cm5zIHtudWxsfHN0cmluZ30gVGhlIGRldGVjdGVkIE9TIG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0T1MoZ3Vlc3Nlcykge1xuICAgICAgcmV0dXJuIHJlZHVjZShndWVzc2VzLCBmdW5jdGlvbihyZXN1bHQsIGd1ZXNzKSB7XG4gICAgICAgIHZhciBwYXR0ZXJuID0gZ3Vlc3MucGF0dGVybiB8fCBxdWFsaWZ5KGd1ZXNzKTtcbiAgICAgICAgaWYgKCFyZXN1bHQgJiYgKHJlc3VsdCA9XG4gICAgICAgICAgICAgIFJlZ0V4cCgnXFxcXGInICsgcGF0dGVybiArICcoPzovW1xcXFxkLl0rfFsgXFxcXHcuXSopJywgJ2knKS5leGVjKHVhKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGNsZWFudXBPUyhyZXN1bHQsIHBhdHRlcm4sIGd1ZXNzLmxhYmVsIHx8IGd1ZXNzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGlja3MgdGhlIHByb2R1Y3QgbmFtZSBmcm9tIGFuIGFycmF5IG9mIGd1ZXNzZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGd1ZXNzZXMgQW4gYXJyYXkgb2YgZ3Vlc3Nlcy5cbiAgICAgKiBAcmV0dXJucyB7bnVsbHxzdHJpbmd9IFRoZSBkZXRlY3RlZCBwcm9kdWN0IG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UHJvZHVjdChndWVzc2VzKSB7XG4gICAgICByZXR1cm4gcmVkdWNlKGd1ZXNzZXMsIGZ1bmN0aW9uKHJlc3VsdCwgZ3Vlc3MpIHtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSBndWVzcy5wYXR0ZXJuIHx8IHF1YWxpZnkoZ3Vlc3MpO1xuICAgICAgICBpZiAoIXJlc3VsdCAmJiAocmVzdWx0ID1cbiAgICAgICAgICAgICAgUmVnRXhwKCdcXFxcYicgKyBwYXR0ZXJuICsgJyAqXFxcXGQrWy5cXFxcd19dKicsICdpJykuZXhlYyh1YSkgfHxcbiAgICAgICAgICAgICAgUmVnRXhwKCdcXFxcYicgKyBwYXR0ZXJuICsgJyAqXFxcXHcrLVtcXFxcd10qJywgJ2knKS5leGVjKHVhKSB8fFxuICAgICAgICAgICAgICBSZWdFeHAoJ1xcXFxiJyArIHBhdHRlcm4gKyAnKD86OyAqKD86W2Etel0rW18tXSk/W2Etel0rXFxcXGQrfFteICgpOy1dKiknLCAnaScpLmV4ZWModWEpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgLy8gU3BsaXQgYnkgZm9yd2FyZCBzbGFzaCBhbmQgYXBwZW5kIHByb2R1Y3QgdmVyc2lvbiBpZiBuZWVkZWQuXG4gICAgICAgICAgaWYgKChyZXN1bHQgPSBTdHJpbmcoKGd1ZXNzLmxhYmVsICYmICFSZWdFeHAocGF0dGVybiwgJ2knKS50ZXN0KGd1ZXNzLmxhYmVsKSkgPyBndWVzcy5sYWJlbCA6IHJlc3VsdCkuc3BsaXQoJy8nKSlbMV0gJiYgIS9bXFxkLl0rLy50ZXN0KHJlc3VsdFswXSkpIHtcbiAgICAgICAgICAgIHJlc3VsdFswXSArPSAnICcgKyByZXN1bHRbMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIENvcnJlY3QgY2hhcmFjdGVyIGNhc2UgYW5kIGNsZWFudXAgc3RyaW5nLlxuICAgICAgICAgIGd1ZXNzID0gZ3Vlc3MubGFiZWwgfHwgZ3Vlc3M7XG4gICAgICAgICAgcmVzdWx0ID0gZm9ybWF0KHJlc3VsdFswXVxuICAgICAgICAgICAgLnJlcGxhY2UoUmVnRXhwKHBhdHRlcm4sICdpJyksIGd1ZXNzKVxuICAgICAgICAgICAgLnJlcGxhY2UoUmVnRXhwKCc7ICooPzonICsgZ3Vlc3MgKyAnW18tXSk/JywgJ2knKSwgJyAnKVxuICAgICAgICAgICAgLnJlcGxhY2UoUmVnRXhwKCcoJyArIGd1ZXNzICsgJylbLV8uXT8oXFxcXHcpJywgJ2knKSwgJyQxICQyJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyB0aGUgdmVyc2lvbiB1c2luZyBhbiBhcnJheSBvZiBVQSBwYXR0ZXJucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0dGVybnMgQW4gYXJyYXkgb2YgVUEgcGF0dGVybnMuXG4gICAgICogQHJldHVybnMge251bGx8c3RyaW5nfSBUaGUgZGV0ZWN0ZWQgdmVyc2lvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRWZXJzaW9uKHBhdHRlcm5zKSB7XG4gICAgICByZXR1cm4gcmVkdWNlKHBhdHRlcm5zLCBmdW5jdGlvbihyZXN1bHQsIHBhdHRlcm4pIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCB8fCAoUmVnRXhwKHBhdHRlcm4gK1xuICAgICAgICAgICcoPzotW1xcXFxkLl0rL3woPzogZm9yIFtcXFxcdy1dKyk/WyAvLV0pKFtcXFxcZC5dK1teICgpOy9fLV0qKScsICdpJykuZXhlYyh1YSkgfHwgMClbMV0gfHwgbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHBsYXRmb3JtLmRlc2NyaXB0aW9uYCB3aGVuIHRoZSBwbGF0Zm9ybSBvYmplY3QgaXMgY29lcmNlZCB0byBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBuYW1lIHRvU3RyaW5nXG4gICAgICogQG1lbWJlck9mIHBsYXRmb3JtXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyBgcGxhdGZvcm0uZGVzY3JpcHRpb25gIGlmIGF2YWlsYWJsZSwgZWxzZSBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmdQbGF0Zm9ybSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIENvbnZlcnQgbGF5b3V0IHRvIGFuIGFycmF5IHNvIHdlIGNhbiBhZGQgZXh0cmEgZGV0YWlscy5cbiAgICBsYXlvdXQgJiYgKGxheW91dCA9IFtsYXlvdXRdKTtcblxuICAgIC8vIERldGVjdCBwcm9kdWN0IG5hbWVzIHRoYXQgY29udGFpbiB0aGVpciBtYW51ZmFjdHVyZXIncyBuYW1lLlxuICAgIGlmIChtYW51ZmFjdHVyZXIgJiYgIXByb2R1Y3QpIHtcbiAgICAgIHByb2R1Y3QgPSBnZXRQcm9kdWN0KFttYW51ZmFjdHVyZXJdKTtcbiAgICB9XG4gICAgLy8gQ2xlYW4gdXAgR29vZ2xlIFRWLlxuICAgIGlmICgoZGF0YSA9IC9cXGJHb29nbGUgVFZcXGIvLmV4ZWMocHJvZHVjdCkpKSB7XG4gICAgICBwcm9kdWN0ID0gZGF0YVswXTtcbiAgICB9XG4gICAgLy8gRGV0ZWN0IHNpbXVsYXRvcnMuXG4gICAgaWYgKC9cXGJTaW11bGF0b3JcXGIvaS50ZXN0KHVhKSkge1xuICAgICAgcHJvZHVjdCA9IChwcm9kdWN0ID8gcHJvZHVjdCArICcgJyA6ICcnKSArICdTaW11bGF0b3InO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgT3BlcmEgTWluaSA4KyBydW5uaW5nIGluIFR1cmJvL1VuY29tcHJlc3NlZCBtb2RlIG9uIGlPUy5cbiAgICBpZiAobmFtZSA9PSAnT3BlcmEgTWluaScgJiYgL1xcYk9QaU9TXFxiLy50ZXN0KHVhKSkge1xuICAgICAgZGVzY3JpcHRpb24ucHVzaCgncnVubmluZyBpbiBUdXJiby9VbmNvbXByZXNzZWQgbW9kZScpO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgSUUgTW9iaWxlIDExLlxuICAgIGlmIChuYW1lID09ICdJRScgJiYgL1xcYmxpa2UgaVBob25lIE9TXFxiLy50ZXN0KHVhKSkge1xuICAgICAgZGF0YSA9IHBhcnNlKHVhLnJlcGxhY2UoL2xpa2UgaVBob25lIE9TLywgJycpKTtcbiAgICAgIG1hbnVmYWN0dXJlciA9IGRhdGEubWFudWZhY3R1cmVyO1xuICAgICAgcHJvZHVjdCA9IGRhdGEucHJvZHVjdDtcbiAgICB9XG4gICAgLy8gRGV0ZWN0IGlPUy5cbiAgICBlbHNlIGlmICgvXmlQLy50ZXN0KHByb2R1Y3QpKSB7XG4gICAgICBuYW1lIHx8IChuYW1lID0gJ1NhZmFyaScpO1xuICAgICAgb3MgPSAnaU9TJyArICgoZGF0YSA9IC8gT1MgKFtcXGRfXSspL2kuZXhlYyh1YSkpXG4gICAgICAgID8gJyAnICsgZGF0YVsxXS5yZXBsYWNlKC9fL2csICcuJylcbiAgICAgICAgOiAnJyk7XG4gICAgfVxuICAgIC8vIERldGVjdCBLdWJ1bnR1LlxuICAgIGVsc2UgaWYgKG5hbWUgPT0gJ0tvbnF1ZXJvcicgJiYgIS9idW50dS9pLnRlc3Qob3MpKSB7XG4gICAgICBvcyA9ICdLdWJ1bnR1JztcbiAgICB9XG4gICAgLy8gRGV0ZWN0IEFuZHJvaWQgYnJvd3NlcnMuXG4gICAgZWxzZSBpZiAoKG1hbnVmYWN0dXJlciAmJiBtYW51ZmFjdHVyZXIgIT0gJ0dvb2dsZScgJiZcbiAgICAgICAgKCgvQ2hyb21lLy50ZXN0KG5hbWUpICYmICEvXFxiTW9iaWxlIFNhZmFyaVxcYi9pLnRlc3QodWEpKSB8fCAvXFxiVml0YVxcYi8udGVzdChwcm9kdWN0KSkpIHx8XG4gICAgICAgICgvXFxiQW5kcm9pZFxcYi8udGVzdChvcykgJiYgL15DaHJvbWUvLnRlc3QobmFtZSkgJiYgL1xcYlZlcnNpb25cXC8vaS50ZXN0KHVhKSkpIHtcbiAgICAgIG5hbWUgPSAnQW5kcm9pZCBCcm93c2VyJztcbiAgICAgIG9zID0gL1xcYkFuZHJvaWRcXGIvLnRlc3Qob3MpID8gb3MgOiAnQW5kcm9pZCc7XG4gICAgfVxuICAgIC8vIERldGVjdCBTaWxrIGRlc2t0b3AvYWNjZWxlcmF0ZWQgbW9kZXMuXG4gICAgZWxzZSBpZiAobmFtZSA9PSAnU2lsaycpIHtcbiAgICAgIGlmICghL1xcYk1vYmkvaS50ZXN0KHVhKSkge1xuICAgICAgICBvcyA9ICdBbmRyb2lkJztcbiAgICAgICAgZGVzY3JpcHRpb24udW5zaGlmdCgnZGVza3RvcCBtb2RlJyk7XG4gICAgICB9XG4gICAgICBpZiAoL0FjY2VsZXJhdGVkICo9ICp0cnVlL2kudGVzdCh1YSkpIHtcbiAgICAgICAgZGVzY3JpcHRpb24udW5zaGlmdCgnYWNjZWxlcmF0ZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gRGV0ZWN0IFBhbGVNb29uIGlkZW50aWZ5aW5nIGFzIEZpcmVmb3guXG4gICAgZWxzZSBpZiAobmFtZSA9PSAnUGFsZU1vb24nICYmIChkYXRhID0gL1xcYkZpcmVmb3hcXC8oW1xcZC5dKylcXGIvLmV4ZWModWEpKSkge1xuICAgICAgZGVzY3JpcHRpb24ucHVzaCgnaWRlbnRpZnlpbmcgYXMgRmlyZWZveCAnICsgZGF0YVsxXSk7XG4gICAgfVxuICAgIC8vIERldGVjdCBGaXJlZm94IE9TIGFuZCBwcm9kdWN0cyBydW5uaW5nIEZpcmVmb3guXG4gICAgZWxzZSBpZiAobmFtZSA9PSAnRmlyZWZveCcgJiYgKGRhdGEgPSAvXFxiKE1vYmlsZXxUYWJsZXR8VFYpXFxiL2kuZXhlYyh1YSkpKSB7XG4gICAgICBvcyB8fCAob3MgPSAnRmlyZWZveCBPUycpO1xuICAgICAgcHJvZHVjdCB8fCAocHJvZHVjdCA9IGRhdGFbMV0pO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgZmFsc2UgcG9zaXRpdmVzIGZvciBGaXJlZm94L1NhZmFyaS5cbiAgICBlbHNlIGlmICghbmFtZSB8fCAoZGF0YSA9ICEvXFxiTWluZWZpZWxkXFxiL2kudGVzdCh1YSkgJiYgL1xcYig/OkZpcmVmb3h8U2FmYXJpKVxcYi8uZXhlYyhuYW1lKSkpIHtcbiAgICAgIC8vIEVzY2FwZSB0aGUgYC9gIGZvciBGaXJlZm94IDEuXG4gICAgICBpZiAobmFtZSAmJiAhcHJvZHVjdCAmJiAvW1xcLyxdfF5bXihdKz9cXCkvLnRlc3QodWEuc2xpY2UodWEuaW5kZXhPZihkYXRhICsgJy8nKSArIDgpKSkge1xuICAgICAgICAvLyBDbGVhciBuYW1lIG9mIGZhbHNlIHBvc2l0aXZlcy5cbiAgICAgICAgbmFtZSA9IG51bGw7XG4gICAgICB9XG4gICAgICAvLyBSZWFzc2lnbiBhIGdlbmVyaWMgbmFtZS5cbiAgICAgIGlmICgoZGF0YSA9IHByb2R1Y3QgfHwgbWFudWZhY3R1cmVyIHx8IG9zKSAmJlxuICAgICAgICAgIChwcm9kdWN0IHx8IG1hbnVmYWN0dXJlciB8fCAvXFxiKD86QW5kcm9pZHxTeW1iaWFuIE9TfFRhYmxldCBPU3x3ZWJPUylcXGIvLnRlc3Qob3MpKSkge1xuICAgICAgICBuYW1lID0gL1thLXpdKyg/OiBIYXQpPy9pLmV4ZWMoL1xcYkFuZHJvaWRcXGIvLnRlc3Qob3MpID8gb3MgOiBkYXRhKSArICcgQnJvd3Nlcic7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEFkZCBDaHJvbWUgdmVyc2lvbiB0byBkZXNjcmlwdGlvbiBmb3IgRWxlY3Ryb24uXG4gICAgZWxzZSBpZiAobmFtZSA9PSAnRWxlY3Ryb24nICYmIChkYXRhID0gKC9cXGJDaHJvbWVcXC8oW1xcZC5dKylcXGIvLmV4ZWModWEpIHx8IDApWzFdKSkge1xuICAgICAgZGVzY3JpcHRpb24ucHVzaCgnQ2hyb21pdW0gJyArIGRhdGEpO1xuICAgIH1cbiAgICAvLyBEZXRlY3Qgbm9uLU9wZXJhIChQcmVzdG8tYmFzZWQpIHZlcnNpb25zIChvcmRlciBpcyBpbXBvcnRhbnQpLlxuICAgIGlmICghdmVyc2lvbikge1xuICAgICAgdmVyc2lvbiA9IGdldFZlcnNpb24oW1xuICAgICAgICAnKD86Q2xvdWQ5fENyaU9TfENyTW98RWRnZXxGeGlPU3xJRU1vYmlsZXxJcm9ufE9wZXJhID9NaW5pfE9QaU9TfE9QUnxSYXZlbnxTYW1zdW5nQnJvd3NlcnxTaWxrKD8hL1tcXFxcZC5dKyQpKScsXG4gICAgICAgICdWZXJzaW9uJyxcbiAgICAgICAgcXVhbGlmeShuYW1lKSxcbiAgICAgICAgJyg/OkZpcmVmb3h8TWluZWZpZWxkfE5ldEZyb250KSdcbiAgICAgIF0pO1xuICAgIH1cbiAgICAvLyBEZXRlY3Qgc3R1YmJvcm4gbGF5b3V0IGVuZ2luZXMuXG4gICAgaWYgKChkYXRhID1cbiAgICAgICAgICBsYXlvdXQgPT0gJ2lDYWInICYmIHBhcnNlRmxvYXQodmVyc2lvbikgPiAzICYmICdXZWJLaXQnIHx8XG4gICAgICAgICAgL1xcYk9wZXJhXFxiLy50ZXN0KG5hbWUpICYmICgvXFxiT1BSXFxiLy50ZXN0KHVhKSA/ICdCbGluaycgOiAnUHJlc3RvJykgfHxcbiAgICAgICAgICAvXFxiKD86TWlkb3JpfE5vb2t8U2FmYXJpKVxcYi9pLnRlc3QodWEpICYmICEvXig/OlRyaWRlbnR8RWRnZUhUTUwpJC8udGVzdChsYXlvdXQpICYmICdXZWJLaXQnIHx8XG4gICAgICAgICAgIWxheW91dCAmJiAvXFxiTVNJRVxcYi9pLnRlc3QodWEpICYmIChvcyA9PSAnTWFjIE9TJyA/ICdUYXNtYW4nIDogJ1RyaWRlbnQnKSB8fFxuICAgICAgICAgIGxheW91dCA9PSAnV2ViS2l0JyAmJiAvXFxiUGxheVN0YXRpb25cXGIoPyEgVml0YVxcYikvaS50ZXN0KG5hbWUpICYmICdOZXRGcm9udCdcbiAgICAgICAgKSkge1xuICAgICAgbGF5b3V0ID0gW2RhdGFdO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgV2luZG93cyBQaG9uZSA3IGRlc2t0b3AgbW9kZS5cbiAgICBpZiAobmFtZSA9PSAnSUUnICYmIChkYXRhID0gKC87ICooPzpYQkxXUHxadW5lV1ApKFxcZCspL2kuZXhlYyh1YSkgfHwgMClbMV0pKSB7XG4gICAgICBuYW1lICs9ICcgTW9iaWxlJztcbiAgICAgIG9zID0gJ1dpbmRvd3MgUGhvbmUgJyArICgvXFwrJC8udGVzdChkYXRhKSA/IGRhdGEgOiBkYXRhICsgJy54Jyk7XG4gICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdkZXNrdG9wIG1vZGUnKTtcbiAgICB9XG4gICAgLy8gRGV0ZWN0IFdpbmRvd3MgUGhvbmUgOC54IGRlc2t0b3AgbW9kZS5cbiAgICBlbHNlIGlmICgvXFxiV1BEZXNrdG9wXFxiL2kudGVzdCh1YSkpIHtcbiAgICAgIG5hbWUgPSAnSUUgTW9iaWxlJztcbiAgICAgIG9zID0gJ1dpbmRvd3MgUGhvbmUgOC54JztcbiAgICAgIGRlc2NyaXB0aW9uLnVuc2hpZnQoJ2Rlc2t0b3AgbW9kZScpO1xuICAgICAgdmVyc2lvbiB8fCAodmVyc2lvbiA9ICgvXFxicnY6KFtcXGQuXSspLy5leGVjKHVhKSB8fCAwKVsxXSk7XG4gICAgfVxuICAgIC8vIERldGVjdCBJRSAxMSBpZGVudGlmeWluZyBhcyBvdGhlciBicm93c2Vycy5cbiAgICBlbHNlIGlmIChuYW1lICE9ICdJRScgJiYgbGF5b3V0ID09ICdUcmlkZW50JyAmJiAoZGF0YSA9IC9cXGJydjooW1xcZC5dKykvLmV4ZWModWEpKSkge1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgZGVzY3JpcHRpb24ucHVzaCgnaWRlbnRpZnlpbmcgYXMgJyArIG5hbWUgKyAodmVyc2lvbiA/ICcgJyArIHZlcnNpb24gOiAnJykpO1xuICAgICAgfVxuICAgICAgbmFtZSA9ICdJRSc7XG4gICAgICB2ZXJzaW9uID0gZGF0YVsxXTtcbiAgICB9XG4gICAgLy8gTGV2ZXJhZ2UgZW52aXJvbm1lbnQgZmVhdHVyZXMuXG4gICAgaWYgKHVzZUZlYXR1cmVzKSB7XG4gICAgICAvLyBEZXRlY3Qgc2VydmVyLXNpZGUgZW52aXJvbm1lbnRzLlxuICAgICAgLy8gUmhpbm8gaGFzIGEgZ2xvYmFsIGZ1bmN0aW9uIHdoaWxlIG90aGVycyBoYXZlIGEgZ2xvYmFsIG9iamVjdC5cbiAgICAgIGlmIChpc0hvc3RUeXBlKGNvbnRleHQsICdnbG9iYWwnKSkge1xuICAgICAgICBpZiAoamF2YSkge1xuICAgICAgICAgIGRhdGEgPSBqYXZhLmxhbmcuU3lzdGVtO1xuICAgICAgICAgIGFyY2ggPSBkYXRhLmdldFByb3BlcnR5KCdvcy5hcmNoJyk7XG4gICAgICAgICAgb3MgPSBvcyB8fCBkYXRhLmdldFByb3BlcnR5KCdvcy5uYW1lJykgKyAnICcgKyBkYXRhLmdldFByb3BlcnR5KCdvcy52ZXJzaW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJoaW5vKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZlcnNpb24gPSBjb250ZXh0LnJlcXVpcmUoJ3JpbmdvL2VuZ2luZScpLnZlcnNpb24uam9pbignLicpO1xuICAgICAgICAgICAgbmFtZSA9ICdSaW5nb0pTJztcbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIGlmICgoZGF0YSA9IGNvbnRleHQuc3lzdGVtKSAmJiBkYXRhLmdsb2JhbC5zeXN0ZW0gPT0gY29udGV4dC5zeXN0ZW0pIHtcbiAgICAgICAgICAgICAgbmFtZSA9ICdOYXJ3aGFsJztcbiAgICAgICAgICAgICAgb3MgfHwgKG9zID0gZGF0YVswXS5vcyB8fCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gJ1JoaW5vJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgdHlwZW9mIGNvbnRleHQucHJvY2VzcyA9PSAnb2JqZWN0JyAmJiAhY29udGV4dC5wcm9jZXNzLmJyb3dzZXIgJiZcbiAgICAgICAgICAoZGF0YSA9IGNvbnRleHQucHJvY2VzcylcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLnZlcnNpb25zID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEudmVyc2lvbnMuZWxlY3Ryb24gPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb24ucHVzaCgnTm9kZSAnICsgZGF0YS52ZXJzaW9ucy5ub2RlKTtcbiAgICAgICAgICAgICAgbmFtZSA9ICdFbGVjdHJvbic7XG4gICAgICAgICAgICAgIHZlcnNpb24gPSBkYXRhLnZlcnNpb25zLmVsZWN0cm9uO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YS52ZXJzaW9ucy5udyA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBkZXNjcmlwdGlvbi5wdXNoKCdDaHJvbWl1bSAnICsgdmVyc2lvbiwgJ05vZGUgJyArIGRhdGEudmVyc2lvbnMubm9kZSk7XG4gICAgICAgICAgICAgIG5hbWUgPSAnTlcuanMnO1xuICAgICAgICAgICAgICB2ZXJzaW9uID0gZGF0YS52ZXJzaW9ucy5udztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gJ05vZGUuanMnO1xuICAgICAgICAgICAgYXJjaCA9IGRhdGEuYXJjaDtcbiAgICAgICAgICAgIG9zID0gZGF0YS5wbGF0Zm9ybTtcbiAgICAgICAgICAgIHZlcnNpb24gPSAvW1xcZC5dKy8uZXhlYyhkYXRhLnZlcnNpb24pO1xuICAgICAgICAgICAgdmVyc2lvbiA9IHZlcnNpb24gPyB2ZXJzaW9uWzBdIDogbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIERldGVjdCBBZG9iZSBBSVIuXG4gICAgICBlbHNlIGlmIChnZXRDbGFzc09mKChkYXRhID0gY29udGV4dC5ydW50aW1lKSkgPT0gYWlyUnVudGltZUNsYXNzKSB7XG4gICAgICAgIG5hbWUgPSAnQWRvYmUgQUlSJztcbiAgICAgICAgb3MgPSBkYXRhLmZsYXNoLnN5c3RlbS5DYXBhYmlsaXRpZXMub3M7XG4gICAgICB9XG4gICAgICAvLyBEZXRlY3QgUGhhbnRvbUpTLlxuICAgICAgZWxzZSBpZiAoZ2V0Q2xhc3NPZigoZGF0YSA9IGNvbnRleHQucGhhbnRvbSkpID09IHBoYW50b21DbGFzcykge1xuICAgICAgICBuYW1lID0gJ1BoYW50b21KUyc7XG4gICAgICAgIHZlcnNpb24gPSAoZGF0YSA9IGRhdGEudmVyc2lvbiB8fCBudWxsKSAmJiAoZGF0YS5tYWpvciArICcuJyArIGRhdGEubWlub3IgKyAnLicgKyBkYXRhLnBhdGNoKTtcbiAgICAgIH1cbiAgICAgIC8vIERldGVjdCBJRSBjb21wYXRpYmlsaXR5IG1vZGVzLlxuICAgICAgZWxzZSBpZiAodHlwZW9mIGRvYy5kb2N1bWVudE1vZGUgPT0gJ251bWJlcicgJiYgKGRhdGEgPSAvXFxiVHJpZGVudFxcLyhcXGQrKS9pLmV4ZWModWEpKSkge1xuICAgICAgICAvLyBXZSdyZSBpbiBjb21wYXRpYmlsaXR5IG1vZGUgd2hlbiB0aGUgVHJpZGVudCB2ZXJzaW9uICsgNCBkb2Vzbid0XG4gICAgICAgIC8vIGVxdWFsIHRoZSBkb2N1bWVudCBtb2RlLlxuICAgICAgICB2ZXJzaW9uID0gW3ZlcnNpb24sIGRvYy5kb2N1bWVudE1vZGVdO1xuICAgICAgICBpZiAoKGRhdGEgPSArZGF0YVsxXSArIDQpICE9IHZlcnNpb25bMV0pIHtcbiAgICAgICAgICBkZXNjcmlwdGlvbi5wdXNoKCdJRSAnICsgdmVyc2lvblsxXSArICcgbW9kZScpO1xuICAgICAgICAgIGxheW91dCAmJiAobGF5b3V0WzFdID0gJycpO1xuICAgICAgICAgIHZlcnNpb25bMV0gPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIHZlcnNpb24gPSBuYW1lID09ICdJRScgPyBTdHJpbmcodmVyc2lvblsxXS50b0ZpeGVkKDEpKSA6IHZlcnNpb25bMF07XG4gICAgICB9XG4gICAgICAvLyBEZXRlY3QgSUUgMTEgbWFza2luZyBhcyBvdGhlciBicm93c2Vycy5cbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBkb2MuZG9jdW1lbnRNb2RlID09ICdudW1iZXInICYmIC9eKD86Q2hyb21lfEZpcmVmb3gpXFxiLy50ZXN0KG5hbWUpKSB7XG4gICAgICAgIGRlc2NyaXB0aW9uLnB1c2goJ21hc2tpbmcgYXMgJyArIG5hbWUgKyAnICcgKyB2ZXJzaW9uKTtcbiAgICAgICAgbmFtZSA9ICdJRSc7XG4gICAgICAgIHZlcnNpb24gPSAnMTEuMCc7XG4gICAgICAgIGxheW91dCA9IFsnVHJpZGVudCddO1xuICAgICAgICBvcyA9ICdXaW5kb3dzJztcbiAgICAgIH1cbiAgICAgIG9zID0gb3MgJiYgZm9ybWF0KG9zKTtcbiAgICB9XG4gICAgLy8gRGV0ZWN0IHByZXJlbGVhc2UgcGhhc2VzLlxuICAgIGlmICh2ZXJzaW9uICYmIChkYXRhID1cbiAgICAgICAgICAvKD86W2FiXXxkcHxwcmV8W2FiXVxcZCtwcmUpKD86XFxkK1xcKz8pPyQvaS5leGVjKHZlcnNpb24pIHx8XG4gICAgICAgICAgLyg/OmFscGhhfGJldGEpKD86ID9cXGQpPy9pLmV4ZWModWEgKyAnOycgKyAodXNlRmVhdHVyZXMgJiYgbmF2LmFwcE1pbm9yVmVyc2lvbikpIHx8XG4gICAgICAgICAgL1xcYk1pbmVmaWVsZFxcYi9pLnRlc3QodWEpICYmICdhJ1xuICAgICAgICApKSB7XG4gICAgICBwcmVyZWxlYXNlID0gL2IvaS50ZXN0KGRhdGEpID8gJ2JldGEnIDogJ2FscGhhJztcbiAgICAgIHZlcnNpb24gPSB2ZXJzaW9uLnJlcGxhY2UoUmVnRXhwKGRhdGEgKyAnXFxcXCs/JCcpLCAnJykgK1xuICAgICAgICAocHJlcmVsZWFzZSA9PSAnYmV0YScgPyBiZXRhIDogYWxwaGEpICsgKC9cXGQrXFwrPy8uZXhlYyhkYXRhKSB8fCAnJyk7XG4gICAgfVxuICAgIC8vIERldGVjdCBGaXJlZm94IE1vYmlsZS5cbiAgICBpZiAobmFtZSA9PSAnRmVubmVjJyB8fCBuYW1lID09ICdGaXJlZm94JyAmJiAvXFxiKD86QW5kcm9pZHxGaXJlZm94IE9TKVxcYi8udGVzdChvcykpIHtcbiAgICAgIG5hbWUgPSAnRmlyZWZveCBNb2JpbGUnO1xuICAgIH1cbiAgICAvLyBPYnNjdXJlIE1heHRob24ncyB1bnJlbGlhYmxlIHZlcnNpb24uXG4gICAgZWxzZSBpZiAobmFtZSA9PSAnTWF4dGhvbicgJiYgdmVyc2lvbikge1xuICAgICAgdmVyc2lvbiA9IHZlcnNpb24ucmVwbGFjZSgvXFwuW1xcZC5dKy8sICcueCcpO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgWGJveCAzNjAgYW5kIFhib3ggT25lLlxuICAgIGVsc2UgaWYgKC9cXGJYYm94XFxiL2kudGVzdChwcm9kdWN0KSkge1xuICAgICAgaWYgKHByb2R1Y3QgPT0gJ1hib3ggMzYwJykge1xuICAgICAgICBvcyA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAocHJvZHVjdCA9PSAnWGJveCAzNjAnICYmIC9cXGJJRU1vYmlsZVxcYi8udGVzdCh1YSkpIHtcbiAgICAgICAgZGVzY3JpcHRpb24udW5zaGlmdCgnbW9iaWxlIG1vZGUnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQWRkIG1vYmlsZSBwb3N0Zml4LlxuICAgIGVsc2UgaWYgKCgvXig/OkNocm9tZXxJRXxPcGVyYSkkLy50ZXN0KG5hbWUpIHx8IG5hbWUgJiYgIXByb2R1Y3QgJiYgIS9Ccm93c2VyfE1vYmkvLnRlc3QobmFtZSkpICYmXG4gICAgICAgIChvcyA9PSAnV2luZG93cyBDRScgfHwgL01vYmkvaS50ZXN0KHVhKSkpIHtcbiAgICAgIG5hbWUgKz0gJyBNb2JpbGUnO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgSUUgcGxhdGZvcm0gcHJldmlldy5cbiAgICBlbHNlIGlmIChuYW1lID09ICdJRScgJiYgdXNlRmVhdHVyZXMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChjb250ZXh0LmV4dGVybmFsID09PSBudWxsKSB7XG4gICAgICAgICAgZGVzY3JpcHRpb24udW5zaGlmdCgncGxhdGZvcm0gcHJldmlldycpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGVzY3JpcHRpb24udW5zaGlmdCgnZW1iZWRkZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gRGV0ZWN0IEJsYWNrQmVycnkgT1MgdmVyc2lvbi5cbiAgICAvLyBodHRwOi8vZG9jcy5ibGFja2JlcnJ5LmNvbS9lbi9kZXZlbG9wZXJzL2RlbGl2ZXJhYmxlcy8xODE2OS9IVFRQX2hlYWRlcnNfc2VudF9ieV9CQl9Ccm93c2VyXzEyMzQ5MTFfMTEuanNwXG4gICAgZWxzZSBpZiAoKC9cXGJCbGFja0JlcnJ5XFxiLy50ZXN0KHByb2R1Y3QpIHx8IC9cXGJCQjEwXFxiLy50ZXN0KHVhKSkgJiYgKGRhdGEgPVxuICAgICAgICAgIChSZWdFeHAocHJvZHVjdC5yZXBsYWNlKC8gKy9nLCAnIConKSArICcvKFsuXFxcXGRdKyknLCAnaScpLmV4ZWModWEpIHx8IDApWzFdIHx8XG4gICAgICAgICAgdmVyc2lvblxuICAgICAgICApKSB7XG4gICAgICBkYXRhID0gW2RhdGEsIC9CQjEwLy50ZXN0KHVhKV07XG4gICAgICBvcyA9IChkYXRhWzFdID8gKHByb2R1Y3QgPSBudWxsLCBtYW51ZmFjdHVyZXIgPSAnQmxhY2tCZXJyeScpIDogJ0RldmljZSBTb2Z0d2FyZScpICsgJyAnICsgZGF0YVswXTtcbiAgICAgIHZlcnNpb24gPSBudWxsO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgT3BlcmEgaWRlbnRpZnlpbmcvbWFza2luZyBpdHNlbGYgYXMgYW5vdGhlciBicm93c2VyLlxuICAgIC8vIGh0dHA6Ly93d3cub3BlcmEuY29tL3N1cHBvcnQva2Ivdmlldy84NDMvXG4gICAgZWxzZSBpZiAodGhpcyAhPSBmb3JPd24gJiYgcHJvZHVjdCAhPSAnV2lpJyAmJiAoXG4gICAgICAgICAgKHVzZUZlYXR1cmVzICYmIG9wZXJhKSB8fFxuICAgICAgICAgICgvT3BlcmEvLnRlc3QobmFtZSkgJiYgL1xcYig/Ok1TSUV8RmlyZWZveClcXGIvaS50ZXN0KHVhKSkgfHxcbiAgICAgICAgICAobmFtZSA9PSAnRmlyZWZveCcgJiYgL1xcYk9TIFggKD86XFxkK1xcLil7Mix9Ly50ZXN0KG9zKSkgfHxcbiAgICAgICAgICAobmFtZSA9PSAnSUUnICYmIChcbiAgICAgICAgICAgIChvcyAmJiAhL15XaW4vLnRlc3Qob3MpICYmIHZlcnNpb24gPiA1LjUpIHx8XG4gICAgICAgICAgICAvXFxiV2luZG93cyBYUFxcYi8udGVzdChvcykgJiYgdmVyc2lvbiA+IDggfHxcbiAgICAgICAgICAgIHZlcnNpb24gPT0gOCAmJiAhL1xcYlRyaWRlbnRcXGIvLnRlc3QodWEpXG4gICAgICAgICAgKSlcbiAgICAgICAgKSAmJiAhcmVPcGVyYS50ZXN0KChkYXRhID0gcGFyc2UuY2FsbChmb3JPd24sIHVhLnJlcGxhY2UocmVPcGVyYSwgJycpICsgJzsnKSkpICYmIGRhdGEubmFtZSkge1xuICAgICAgLy8gV2hlbiBcImlkZW50aWZ5aW5nXCIsIHRoZSBVQSBjb250YWlucyBib3RoIE9wZXJhIGFuZCB0aGUgb3RoZXIgYnJvd3NlcidzIG5hbWUuXG4gICAgICBkYXRhID0gJ2luZyBhcyAnICsgZGF0YS5uYW1lICsgKChkYXRhID0gZGF0YS52ZXJzaW9uKSA/ICcgJyArIGRhdGEgOiAnJyk7XG4gICAgICBpZiAocmVPcGVyYS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIGlmICgvXFxiSUVcXGIvLnRlc3QoZGF0YSkgJiYgb3MgPT0gJ01hYyBPUycpIHtcbiAgICAgICAgICBvcyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9ICdpZGVudGlmeScgKyBkYXRhO1xuICAgICAgfVxuICAgICAgLy8gV2hlbiBcIm1hc2tpbmdcIiwgdGhlIFVBIGNvbnRhaW5zIG9ubHkgdGhlIG90aGVyIGJyb3dzZXIncyBuYW1lLlxuICAgICAgZWxzZSB7XG4gICAgICAgIGRhdGEgPSAnbWFzaycgKyBkYXRhO1xuICAgICAgICBpZiAob3BlcmFDbGFzcykge1xuICAgICAgICAgIG5hbWUgPSBmb3JtYXQob3BlcmFDbGFzcy5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEgJDInKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmFtZSA9ICdPcGVyYSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKC9cXGJJRVxcYi8udGVzdChkYXRhKSkge1xuICAgICAgICAgIG9zID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXVzZUZlYXR1cmVzKSB7XG4gICAgICAgICAgdmVyc2lvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxheW91dCA9IFsnUHJlc3RvJ107XG4gICAgICBkZXNjcmlwdGlvbi5wdXNoKGRhdGEpO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgV2ViS2l0IE5pZ2h0bHkgYW5kIGFwcHJveGltYXRlIENocm9tZS9TYWZhcmkgdmVyc2lvbnMuXG4gICAgaWYgKChkYXRhID0gKC9cXGJBcHBsZVdlYktpdFxcLyhbXFxkLl0rXFwrPykvaS5leGVjKHVhKSB8fCAwKVsxXSkpIHtcbiAgICAgIC8vIENvcnJlY3QgYnVpbGQgbnVtYmVyIGZvciBudW1lcmljIGNvbXBhcmlzb24uXG4gICAgICAvLyAoZS5nLiBcIjUzMi41XCIgYmVjb21lcyBcIjUzMi4wNVwiKVxuICAgICAgZGF0YSA9IFtwYXJzZUZsb2F0KGRhdGEucmVwbGFjZSgvXFwuKFxcZCkkLywgJy4wJDEnKSksIGRhdGFdO1xuICAgICAgLy8gTmlnaHRseSBidWlsZHMgYXJlIHBvc3RmaXhlZCB3aXRoIGEgXCIrXCIuXG4gICAgICBpZiAobmFtZSA9PSAnU2FmYXJpJyAmJiBkYXRhWzFdLnNsaWNlKC0xKSA9PSAnKycpIHtcbiAgICAgICAgbmFtZSA9ICdXZWJLaXQgTmlnaHRseSc7XG4gICAgICAgIHByZXJlbGVhc2UgPSAnYWxwaGEnO1xuICAgICAgICB2ZXJzaW9uID0gZGF0YVsxXS5zbGljZSgwLCAtMSk7XG4gICAgICB9XG4gICAgICAvLyBDbGVhciBpbmNvcnJlY3QgYnJvd3NlciB2ZXJzaW9ucy5cbiAgICAgIGVsc2UgaWYgKHZlcnNpb24gPT0gZGF0YVsxXSB8fFxuICAgICAgICAgIHZlcnNpb24gPT0gKGRhdGFbMl0gPSAoL1xcYlNhZmFyaVxcLyhbXFxkLl0rXFwrPykvaS5leGVjKHVhKSB8fCAwKVsxXSkpIHtcbiAgICAgICAgdmVyc2lvbiA9IG51bGw7XG4gICAgICB9XG4gICAgICAvLyBVc2UgdGhlIGZ1bGwgQ2hyb21lIHZlcnNpb24gd2hlbiBhdmFpbGFibGUuXG4gICAgICBkYXRhWzFdID0gKC9cXGJDaHJvbWVcXC8oW1xcZC5dKykvaS5leGVjKHVhKSB8fCAwKVsxXTtcbiAgICAgIC8vIERldGVjdCBCbGluayBsYXlvdXQgZW5naW5lLlxuICAgICAgaWYgKGRhdGFbMF0gPT0gNTM3LjM2ICYmIGRhdGFbMl0gPT0gNTM3LjM2ICYmIHBhcnNlRmxvYXQoZGF0YVsxXSkgPj0gMjggJiYgbGF5b3V0ID09ICdXZWJLaXQnKSB7XG4gICAgICAgIGxheW91dCA9IFsnQmxpbmsnXTtcbiAgICAgIH1cbiAgICAgIC8vIERldGVjdCBKYXZhU2NyaXB0Q29yZS5cbiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjc2ODQ3NC9ob3ctY2FuLWktZGV0ZWN0LXdoaWNoLWphdmFzY3JpcHQtZW5naW5lLXY4LW9yLWpzYy1pcy11c2VkLWF0LXJ1bnRpbWUtaW4tYW5kcm9pXG4gICAgICBpZiAoIXVzZUZlYXR1cmVzIHx8ICghbGlrZUNocm9tZSAmJiAhZGF0YVsxXSkpIHtcbiAgICAgICAgbGF5b3V0ICYmIChsYXlvdXRbMV0gPSAnbGlrZSBTYWZhcmknKTtcbiAgICAgICAgZGF0YSA9IChkYXRhID0gZGF0YVswXSwgZGF0YSA8IDQwMCA/IDEgOiBkYXRhIDwgNTAwID8gMiA6IGRhdGEgPCA1MjYgPyAzIDogZGF0YSA8IDUzMyA/IDQgOiBkYXRhIDwgNTM0ID8gJzQrJyA6IGRhdGEgPCA1MzUgPyA1IDogZGF0YSA8IDUzNyA/IDYgOiBkYXRhIDwgNTM4ID8gNyA6IGRhdGEgPCA2MDEgPyA4IDogJzgnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxheW91dCAmJiAobGF5b3V0WzFdID0gJ2xpa2UgQ2hyb21lJyk7XG4gICAgICAgIGRhdGEgPSBkYXRhWzFdIHx8IChkYXRhID0gZGF0YVswXSwgZGF0YSA8IDUzMCA/IDEgOiBkYXRhIDwgNTMyID8gMiA6IGRhdGEgPCA1MzIuMDUgPyAzIDogZGF0YSA8IDUzMyA/IDQgOiBkYXRhIDwgNTM0LjAzID8gNSA6IGRhdGEgPCA1MzQuMDcgPyA2IDogZGF0YSA8IDUzNC4xMCA/IDcgOiBkYXRhIDwgNTM0LjEzID8gOCA6IGRhdGEgPCA1MzQuMTYgPyA5IDogZGF0YSA8IDUzNC4yNCA/IDEwIDogZGF0YSA8IDUzNC4zMCA/IDExIDogZGF0YSA8IDUzNS4wMSA/IDEyIDogZGF0YSA8IDUzNS4wMiA/ICcxMysnIDogZGF0YSA8IDUzNS4wNyA/IDE1IDogZGF0YSA8IDUzNS4xMSA/IDE2IDogZGF0YSA8IDUzNS4xOSA/IDE3IDogZGF0YSA8IDUzNi4wNSA/IDE4IDogZGF0YSA8IDUzNi4xMCA/IDE5IDogZGF0YSA8IDUzNy4wMSA/IDIwIDogZGF0YSA8IDUzNy4xMSA/ICcyMSsnIDogZGF0YSA8IDUzNy4xMyA/IDIzIDogZGF0YSA8IDUzNy4xOCA/IDI0IDogZGF0YSA8IDUzNy4yNCA/IDI1IDogZGF0YSA8IDUzNy4zNiA/IDI2IDogbGF5b3V0ICE9ICdCbGluaycgPyAnMjcnIDogJzI4Jyk7XG4gICAgICB9XG4gICAgICAvLyBBZGQgdGhlIHBvc3RmaXggb2YgXCIueFwiIG9yIFwiK1wiIGZvciBhcHByb3hpbWF0ZSB2ZXJzaW9ucy5cbiAgICAgIGxheW91dCAmJiAobGF5b3V0WzFdICs9ICcgJyArIChkYXRhICs9IHR5cGVvZiBkYXRhID09ICdudW1iZXInID8gJy54JyA6IC9bLitdLy50ZXN0KGRhdGEpID8gJycgOiAnKycpKTtcbiAgICAgIC8vIE9ic2N1cmUgdmVyc2lvbiBmb3Igc29tZSBTYWZhcmkgMS0yIHJlbGVhc2VzLlxuICAgICAgaWYgKG5hbWUgPT0gJ1NhZmFyaScgJiYgKCF2ZXJzaW9uIHx8IHBhcnNlSW50KHZlcnNpb24pID4gNDUpKSB7XG4gICAgICAgIHZlcnNpb24gPSBkYXRhO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBEZXRlY3QgT3BlcmEgZGVza3RvcCBtb2Rlcy5cbiAgICBpZiAobmFtZSA9PSAnT3BlcmEnICYmICAoZGF0YSA9IC9cXGJ6Ym92fHp2YXYkLy5leGVjKG9zKSkpIHtcbiAgICAgIG5hbWUgKz0gJyAnO1xuICAgICAgZGVzY3JpcHRpb24udW5zaGlmdCgnZGVza3RvcCBtb2RlJyk7XG4gICAgICBpZiAoZGF0YSA9PSAnenZhdicpIHtcbiAgICAgICAgbmFtZSArPSAnTWluaSc7XG4gICAgICAgIHZlcnNpb24gPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmFtZSArPSAnTW9iaWxlJztcbiAgICAgIH1cbiAgICAgIG9zID0gb3MucmVwbGFjZShSZWdFeHAoJyAqJyArIGRhdGEgKyAnJCcpLCAnJyk7XG4gICAgfVxuICAgIC8vIERldGVjdCBDaHJvbWUgZGVza3RvcCBtb2RlLlxuICAgIGVsc2UgaWYgKG5hbWUgPT0gJ1NhZmFyaScgJiYgL1xcYkNocm9tZVxcYi8uZXhlYyhsYXlvdXQgJiYgbGF5b3V0WzFdKSkge1xuICAgICAgZGVzY3JpcHRpb24udW5zaGlmdCgnZGVza3RvcCBtb2RlJyk7XG4gICAgICBuYW1lID0gJ0Nocm9tZSBNb2JpbGUnO1xuICAgICAgdmVyc2lvbiA9IG51bGw7XG5cbiAgICAgIGlmICgvXFxiT1MgWFxcYi8udGVzdChvcykpIHtcbiAgICAgICAgbWFudWZhY3R1cmVyID0gJ0FwcGxlJztcbiAgICAgICAgb3MgPSAnaU9TIDQuMysnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3MgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBTdHJpcCBpbmNvcnJlY3QgT1MgdmVyc2lvbnMuXG4gICAgaWYgKHZlcnNpb24gJiYgdmVyc2lvbi5pbmRleE9mKChkYXRhID0gL1tcXGQuXSskLy5leGVjKG9zKSkpID09IDAgJiZcbiAgICAgICAgdWEuaW5kZXhPZignLycgKyBkYXRhICsgJy0nKSA+IC0xKSB7XG4gICAgICBvcyA9IHRyaW0ob3MucmVwbGFjZShkYXRhLCAnJykpO1xuICAgIH1cbiAgICAvLyBBZGQgbGF5b3V0IGVuZ2luZS5cbiAgICBpZiAobGF5b3V0ICYmICEvXFxiKD86QXZhbnR8Tm9vaylcXGIvLnRlc3QobmFtZSkgJiYgKFxuICAgICAgICAvQnJvd3NlcnxMdW5hc2NhcGV8TWF4dGhvbi8udGVzdChuYW1lKSB8fFxuICAgICAgICBuYW1lICE9ICdTYWZhcmknICYmIC9eaU9TLy50ZXN0KG9zKSAmJiAvXFxiU2FmYXJpXFxiLy50ZXN0KGxheW91dFsxXSkgfHxcbiAgICAgICAgL14oPzpBZG9iZXxBcm9yYXxCcmVhY2h8TWlkb3JpfE9wZXJhfFBoYW50b218UmVrb25xfFJvY2t8U2Ftc3VuZyBJbnRlcm5ldHxTbGVpcG5pcnxXZWIpLy50ZXN0KG5hbWUpICYmIGxheW91dFsxXSkpIHtcbiAgICAgIC8vIERvbid0IGFkZCBsYXlvdXQgZGV0YWlscyB0byBkZXNjcmlwdGlvbiBpZiB0aGV5IGFyZSBmYWxzZXkuXG4gICAgICAoZGF0YSA9IGxheW91dFtsYXlvdXQubGVuZ3RoIC0gMV0pICYmIGRlc2NyaXB0aW9uLnB1c2goZGF0YSk7XG4gICAgfVxuICAgIC8vIENvbWJpbmUgY29udGV4dHVhbCBpbmZvcm1hdGlvbi5cbiAgICBpZiAoZGVzY3JpcHRpb24ubGVuZ3RoKSB7XG4gICAgICBkZXNjcmlwdGlvbiA9IFsnKCcgKyBkZXNjcmlwdGlvbi5qb2luKCc7ICcpICsgJyknXTtcbiAgICB9XG4gICAgLy8gQXBwZW5kIG1hbnVmYWN0dXJlciB0byBkZXNjcmlwdGlvbi5cbiAgICBpZiAobWFudWZhY3R1cmVyICYmIHByb2R1Y3QgJiYgcHJvZHVjdC5pbmRleE9mKG1hbnVmYWN0dXJlcikgPCAwKSB7XG4gICAgICBkZXNjcmlwdGlvbi5wdXNoKCdvbiAnICsgbWFudWZhY3R1cmVyKTtcbiAgICB9XG4gICAgLy8gQXBwZW5kIHByb2R1Y3QgdG8gZGVzY3JpcHRpb24uXG4gICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgIGRlc2NyaXB0aW9uLnB1c2goKC9eb24gLy50ZXN0KGRlc2NyaXB0aW9uW2Rlc2NyaXB0aW9uLmxlbmd0aCAtIDFdKSA/ICcnIDogJ29uICcpICsgcHJvZHVjdCk7XG4gICAgfVxuICAgIC8vIFBhcnNlIHRoZSBPUyBpbnRvIGFuIG9iamVjdC5cbiAgICBpZiAob3MpIHtcbiAgICAgIGRhdGEgPSAvIChbXFxkLitdKykkLy5leGVjKG9zKTtcbiAgICAgIGlzU3BlY2lhbENhc2VkT1MgPSBkYXRhICYmIG9zLmNoYXJBdChvcy5sZW5ndGggLSBkYXRhWzBdLmxlbmd0aCAtIDEpID09ICcvJztcbiAgICAgIG9zID0ge1xuICAgICAgICAnYXJjaGl0ZWN0dXJlJzogMzIsXG4gICAgICAgICdmYW1pbHknOiAoZGF0YSAmJiAhaXNTcGVjaWFsQ2FzZWRPUykgPyBvcy5yZXBsYWNlKGRhdGFbMF0sICcnKSA6IG9zLFxuICAgICAgICAndmVyc2lvbic6IGRhdGEgPyBkYXRhWzFdIDogbnVsbCxcbiAgICAgICAgJ3RvU3RyaW5nJzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnZlcnNpb247XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmFtaWx5ICsgKCh2ZXJzaW9uICYmICFpc1NwZWNpYWxDYXNlZE9TKSA/ICcgJyArIHZlcnNpb24gOiAnJykgKyAodGhpcy5hcmNoaXRlY3R1cmUgPT0gNjQgPyAnIDY0LWJpdCcgOiAnJyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIC8vIEFkZCBicm93c2VyL09TIGFyY2hpdGVjdHVyZS5cbiAgICBpZiAoKGRhdGEgPSAvXFxiKD86QU1EfElBfFdpbnxXT1d8eDg2X3x4KTY0XFxiL2kuZXhlYyhhcmNoKSkgJiYgIS9cXGJpNjg2XFxiL2kudGVzdChhcmNoKSkge1xuICAgICAgaWYgKG9zKSB7XG4gICAgICAgIG9zLmFyY2hpdGVjdHVyZSA9IDY0O1xuICAgICAgICBvcy5mYW1pbHkgPSBvcy5mYW1pbHkucmVwbGFjZShSZWdFeHAoJyAqJyArIGRhdGEpLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgICAgbmFtZSAmJiAoL1xcYldPVzY0XFxiL2kudGVzdCh1YSkgfHxcbiAgICAgICAgICAodXNlRmVhdHVyZXMgJiYgL1xcdyg/Ojg2fDMyKSQvLnRlc3QobmF2LmNwdUNsYXNzIHx8IG5hdi5wbGF0Zm9ybSkgJiYgIS9cXGJXaW42NDsgeDY0XFxiL2kudGVzdCh1YSkpKVxuICAgICAgKSB7XG4gICAgICAgIGRlc2NyaXB0aW9uLnVuc2hpZnQoJzMyLWJpdCcpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBDaHJvbWUgMzkgYW5kIGFib3ZlIG9uIE9TIFggaXMgYWx3YXlzIDY0LWJpdC5cbiAgICBlbHNlIGlmIChcbiAgICAgICAgb3MgJiYgL15PUyBYLy50ZXN0KG9zLmZhbWlseSkgJiZcbiAgICAgICAgbmFtZSA9PSAnQ2hyb21lJyAmJiBwYXJzZUZsb2F0KHZlcnNpb24pID49IDM5XG4gICAgKSB7XG4gICAgICBvcy5hcmNoaXRlY3R1cmUgPSA2NDtcbiAgICB9XG5cbiAgICB1YSB8fCAodWEgPSBudWxsKTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBwbGF0Zm9ybSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbmFtZSBwbGF0Zm9ybVxuICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAqL1xuICAgIHZhciBwbGF0Zm9ybSA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBsYXRmb3JtIGRlc2NyaXB0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIHBsYXRmb3JtXG4gICAgICogQHR5cGUgc3RyaW5nfG51bGxcbiAgICAgKi9cbiAgICBwbGF0Zm9ybS5kZXNjcmlwdGlvbiA9IHVhO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGJyb3dzZXIncyBsYXlvdXQgZW5naW5lLlxuICAgICAqXG4gICAgICogVGhlIGxpc3Qgb2YgY29tbW9uIGxheW91dCBlbmdpbmVzIGluY2x1ZGU6XG4gICAgICogXCJCbGlua1wiLCBcIkVkZ2VIVE1MXCIsIFwiR2Vja29cIiwgXCJUcmlkZW50XCIgYW5kIFwiV2ViS2l0XCJcbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBwbGF0Zm9ybVxuICAgICAqIEB0eXBlIHN0cmluZ3xudWxsXG4gICAgICovXG4gICAgcGxhdGZvcm0ubGF5b3V0ID0gbGF5b3V0ICYmIGxheW91dFswXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBwcm9kdWN0J3MgbWFudWZhY3R1cmVyLlxuICAgICAqXG4gICAgICogVGhlIGxpc3Qgb2YgbWFudWZhY3R1cmVycyBpbmNsdWRlOlxuICAgICAqIFwiQXBwbGVcIiwgXCJBcmNob3NcIiwgXCJBbWF6b25cIiwgXCJBc3VzXCIsIFwiQmFybmVzICYgTm9ibGVcIiwgXCJCbGFja0JlcnJ5XCIsXG4gICAgICogXCJHb29nbGVcIiwgXCJIUFwiLCBcIkhUQ1wiLCBcIkxHXCIsIFwiTWljcm9zb2Z0XCIsIFwiTW90b3JvbGFcIiwgXCJOaW50ZW5kb1wiLFxuICAgICAqIFwiTm9raWFcIiwgXCJTYW1zdW5nXCIgYW5kIFwiU29ueVwiXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm1cbiAgICAgKiBAdHlwZSBzdHJpbmd8bnVsbFxuICAgICAqL1xuICAgIHBsYXRmb3JtLm1hbnVmYWN0dXJlciA9IG1hbnVmYWN0dXJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBicm93c2VyL2Vudmlyb25tZW50LlxuICAgICAqXG4gICAgICogVGhlIGxpc3Qgb2YgY29tbW9uIGJyb3dzZXIgbmFtZXMgaW5jbHVkZTpcbiAgICAgKiBcIkNocm9tZVwiLCBcIkVsZWN0cm9uXCIsIFwiRmlyZWZveFwiLCBcIkZpcmVmb3ggZm9yIGlPU1wiLCBcIklFXCIsXG4gICAgICogXCJNaWNyb3NvZnQgRWRnZVwiLCBcIlBoYW50b21KU1wiLCBcIlNhZmFyaVwiLCBcIlNlYU1vbmtleVwiLCBcIlNpbGtcIixcbiAgICAgKiBcIk9wZXJhIE1pbmlcIiBhbmQgXCJPcGVyYVwiXG4gICAgICpcbiAgICAgKiBNb2JpbGUgdmVyc2lvbnMgb2Ygc29tZSBicm93c2VycyBoYXZlIFwiTW9iaWxlXCIgYXBwZW5kZWQgdG8gdGhlaXIgbmFtZTpcbiAgICAgKiBlZy4gXCJDaHJvbWUgTW9iaWxlXCIsIFwiRmlyZWZveCBNb2JpbGVcIiwgXCJJRSBNb2JpbGVcIiBhbmQgXCJPcGVyYSBNb2JpbGVcIlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIHBsYXRmb3JtXG4gICAgICogQHR5cGUgc3RyaW5nfG51bGxcbiAgICAgKi9cbiAgICBwbGF0Zm9ybS5uYW1lID0gbmFtZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbHBoYS9iZXRhIHJlbGVhc2UgaW5kaWNhdG9yLlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIHBsYXRmb3JtXG4gICAgICogQHR5cGUgc3RyaW5nfG51bGxcbiAgICAgKi9cbiAgICBwbGF0Zm9ybS5wcmVyZWxlYXNlID0gcHJlcmVsZWFzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBwcm9kdWN0IGhvc3RpbmcgdGhlIGJyb3dzZXIuXG4gICAgICpcbiAgICAgKiBUaGUgbGlzdCBvZiBjb21tb24gcHJvZHVjdHMgaW5jbHVkZTpcbiAgICAgKlxuICAgICAqIFwiQmxhY2tCZXJyeVwiLCBcIkdhbGF4eSBTNFwiLCBcIkx1bWlhXCIsIFwiaVBhZFwiLCBcImlQb2RcIiwgXCJpUGhvbmVcIiwgXCJLaW5kbGVcIixcbiAgICAgKiBcIktpbmRsZSBGaXJlXCIsIFwiTmV4dXNcIiwgXCJOb29rXCIsIFwiUGxheUJvb2tcIiwgXCJUb3VjaFBhZFwiIGFuZCBcIlRyYW5zZm9ybWVyXCJcbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBwbGF0Zm9ybVxuICAgICAqIEB0eXBlIHN0cmluZ3xudWxsXG4gICAgICovXG4gICAgcGxhdGZvcm0ucHJvZHVjdCA9IHByb2R1Y3Q7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYnJvd3NlcidzIHVzZXIgYWdlbnQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIHBsYXRmb3JtXG4gICAgICogQHR5cGUgc3RyaW5nfG51bGxcbiAgICAgKi9cbiAgICBwbGF0Zm9ybS51YSA9IHVhO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJyb3dzZXIvZW52aXJvbm1lbnQgdmVyc2lvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBwbGF0Zm9ybVxuICAgICAqIEB0eXBlIHN0cmluZ3xudWxsXG4gICAgICovXG4gICAgcGxhdGZvcm0udmVyc2lvbiA9IG5hbWUgJiYgdmVyc2lvbjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBvcGVyYXRpbmcgc3lzdGVtLlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIHBsYXRmb3JtXG4gICAgICogQHR5cGUgT2JqZWN0XG4gICAgICovXG4gICAgcGxhdGZvcm0ub3MgPSBvcyB8fCB7XG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIENQVSBhcmNoaXRlY3R1cmUgdGhlIE9TIGlzIGJ1aWx0IGZvci5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm0ub3NcbiAgICAgICAqIEB0eXBlIG51bWJlcnxudWxsXG4gICAgICAgKi9cbiAgICAgICdhcmNoaXRlY3R1cmUnOiBudWxsLFxuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBmYW1pbHkgb2YgdGhlIE9TLlxuICAgICAgICpcbiAgICAgICAqIENvbW1vbiB2YWx1ZXMgaW5jbHVkZTpcbiAgICAgICAqIFwiV2luZG93c1wiLCBcIldpbmRvd3MgU2VydmVyIDIwMDggUjIgLyA3XCIsIFwiV2luZG93cyBTZXJ2ZXIgMjAwOCAvIFZpc3RhXCIsXG4gICAgICAgKiBcIldpbmRvd3MgWFBcIiwgXCJPUyBYXCIsIFwiVWJ1bnR1XCIsIFwiRGViaWFuXCIsIFwiRmVkb3JhXCIsIFwiUmVkIEhhdFwiLCBcIlN1U0VcIixcbiAgICAgICAqIFwiQW5kcm9pZFwiLCBcImlPU1wiIGFuZCBcIldpbmRvd3MgUGhvbmVcIlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBwbGF0Zm9ybS5vc1xuICAgICAgICogQHR5cGUgc3RyaW5nfG51bGxcbiAgICAgICAqL1xuICAgICAgJ2ZhbWlseSc6IG51bGwsXG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHZlcnNpb24gb2YgdGhlIE9TLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBwbGF0Zm9ybS5vc1xuICAgICAgICogQHR5cGUgc3RyaW5nfG51bGxcbiAgICAgICAqL1xuICAgICAgJ3ZlcnNpb24nOiBudWxsLFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgdGhlIE9TIHN0cmluZy5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm0ub3NcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBPUyBzdHJpbmcuXG4gICAgICAgKi9cbiAgICAgICd0b1N0cmluZyc6IGZ1bmN0aW9uKCkgeyByZXR1cm4gJ251bGwnOyB9XG4gICAgfTtcblxuICAgIHBsYXRmb3JtLnBhcnNlID0gcGFyc2U7XG4gICAgcGxhdGZvcm0udG9TdHJpbmcgPSB0b1N0cmluZ1BsYXRmb3JtO1xuXG4gICAgaWYgKHBsYXRmb3JtLnZlcnNpb24pIHtcbiAgICAgIGRlc2NyaXB0aW9uLnVuc2hpZnQodmVyc2lvbik7XG4gICAgfVxuICAgIGlmIChwbGF0Zm9ybS5uYW1lKSB7XG4gICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KG5hbWUpO1xuICAgIH1cbiAgICBpZiAob3MgJiYgbmFtZSAmJiAhKG9zID09IFN0cmluZyhvcykuc3BsaXQoJyAnKVswXSAmJiAob3MgPT0gbmFtZS5zcGxpdCgnICcpWzBdIHx8IHByb2R1Y3QpKSkge1xuICAgICAgZGVzY3JpcHRpb24ucHVzaChwcm9kdWN0ID8gJygnICsgb3MgKyAnKScgOiAnb24gJyArIG9zKTtcbiAgICB9XG4gICAgaWYgKGRlc2NyaXB0aW9uLmxlbmd0aCkge1xuICAgICAgcGxhdGZvcm0uZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi5qb2luKCcgJyk7XG4gICAgfVxuICAgIHJldHVybiBwbGF0Zm9ybTtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8vIEV4cG9ydCBwbGF0Zm9ybS5cbiAgdmFyIHBsYXRmb3JtID0gcGFyc2UoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZSB0aGUgZm9sbG93aW5nOlxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBFeHBvc2UgcGxhdGZvcm0gb24gdGhlIGdsb2JhbCBvYmplY3QgdG8gcHJldmVudCBlcnJvcnMgd2hlbiBwbGF0Zm9ybSBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICByb290LnBsYXRmb3JtID0gcGxhdGZvcm07XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbyBwbGF0Zm9ybSBjYW4gYmUgYWxpYXNlZCB0aHJvdWdoIHBhdGggbWFwcGluZy5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcGxhdGZvcm07XG4gICAgfSk7XG4gIH1cbiAgLy8gQ2hlY2sgZm9yIGBleHBvcnRzYCBhZnRlciBgZGVmaW5lYCBpbiBjYXNlIGEgYnVpbGQgb3B0aW1pemVyIGFkZHMgYW4gYGV4cG9ydHNgIG9iamVjdC5cbiAgZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgQ29tbW9uSlMgc3VwcG9ydC5cbiAgICBmb3JPd24ocGxhdGZvcm0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIGZyZWVFeHBvcnRzW2tleV0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgfVxuICBlbHNlIHtcbiAgICAvLyBFeHBvcnQgdG8gdGhlIGdsb2JhbCBvYmplY3QuXG4gICAgcm9vdC5wbGF0Zm9ybSA9IHBsYXRmb3JtO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9sb2dvLXBsYXkucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2xvZ28tbmVnYXRpdmUucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2dvLWJhY2stdG8tbWFpbi1wYWdlLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9sb2dvLXBsYXktaW9fYWxsX21pbi1jb2xvcl92YXJpYXRpb24tdjMucG5nXCI7IiwiZXhwb3J0IGZ1bmN0aW9uIGFkZFNjcm9sbEV2ZW50TGlzdGVuZXIoZnVuOiAoKSA9PiB2b2lkKSB7XG4gICAgbGV0IHRpY2tpbmcgPSBmYWxzZVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIChldikgPT4ge1xuICAgICAgICBpZighdGlja2luZykge1xuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZnVuKClcbiAgICAgICAgICAgICAgICB0aWNraW5nID0gZmFsc2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgdGlja2luZyA9IHRydWVcbiAgICB9KVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2VTY3JvbGxQb3NpdGlvblRvcCgpOiBudW1iZXIge1xuICAgIHJldHVybiAod2luZG93LnBhZ2VZT2Zmc2V0ICE9PSB1bmRlZmluZWQpID8gd2luZG93LnBhZ2VZT2Zmc2V0IDogKChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlIHx8IGRvY3VtZW50LmJvZHkpIGFzIEhUTUxFbGVtZW50KS5zY3JvbGxUb3Bcbn0iLCJleHBvcnQgZW51bSBIVE1MX1NFTEVDVE9SUyB7XG4gICAgQ09ERV9BUkVBICAgICAgICAgICAgICAgPSBcIi5jb2RlLWFyZWFcIixcbiAgICBDT05URU5UICAgICAgICAgICAgICAgICA9IFwiI2Qydi1jb250ZW50XCIsXG4gICAgQ1VSUkVOVF9TRUNUSU9OX05BTUUgICAgPSBcIiNjdXJyZW50LXNlY3Rpb24tbmFtZVwiLFxuICAgIFRPUF9IRUFERVIgICAgICAgICAgICAgID0gXCIjZDJ2LWhlYWRlclwiLFxuICAgIE5BVklHQVRJT05fTUVOVSAgICAgICAgID0gXCIjc2l0ZS1uYXZpZ2F0aW9uXCJcbn0iLCJpbXBvcnQge0hUTUxfU0VMRUNUT1JTfSBmcm9tIFwiLi4vSFRNTF9TRUxFQ1RPUlNcIlxuaW1wb3J0IHthZGRTY3JvbGxFdmVudExpc3RlbmVyfSBmcm9tIFwiLi4vYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lclwiXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXROYXZpZ2F0aW9uTWVudSgpIHtcbiAgICBnZW5lcmF0ZUxpc3RPZkNoYXB0ZXIoKS50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgICB1cGRhdGVDaGFwdGVyU3RhdHVJbk5hdmlnYXRpb25NZW51KHZhbHVlKVxuXG4gICAgICAgIGFkZFNjcm9sbEV2ZW50TGlzdGVuZXIoKCkgPT4ge1xuICAgICAgICAgICAgdXBkYXRlQ2hhcHRlclN0YXR1SW5OYXZpZ2F0aW9uTWVudSh2YWx1ZSlcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5mdW5jdGlvbiB1cGRhdGVDaGFwdGVyU3RhdHVJbk5hdmlnYXRpb25NZW51KGxpc3RPZlRpdGxlTGV2ZWxUd286IENoYXB0ZXJbXSkge1xuICAgIGxldCBsYXN0VGl0bGVJc05vdEZvdW5kID0gdHJ1ZVxuXG4gICAgZm9yKGNvbnN0IHRpdGxlTGV2ZWxUd28gb2YgbGlzdE9mVGl0bGVMZXZlbFR3bykge1xuICAgICAgICBpZih0aXRsZUxldmVsVHdvLmlzQWN0aXZlICYmIGxhc3RUaXRsZUlzTm90Rm91bmQpIHtcbiAgICAgICAgICAgIGxhc3RUaXRsZUlzTm90Rm91bmQgPSBmYWxzZVxuICAgICAgICAgICAgdGl0bGVMZXZlbFR3by5jbGFzc25hbWUgPSBcImFjdGl2ZVwiXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aXRsZUxldmVsVHdvLmNsYXNzbmFtZSA9IFwidW5hY3RpdmVcIlxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUxpc3RPZkNoYXB0ZXIoKTogUHJvbWlzZTxDaGFwdGVyW10+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBsaXN0VG9SZXR1cm4gPSBbXVxuXG4gICAgICAgIGNvbnN0IFRJVExFX1RXT19FTEVNRU5UUyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYCR7SFRNTF9TRUxFQ1RPUlMuQ09OVEVOVH0gaDJgKSBhcyBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PlxuICAgICAgICBjb25zdCBOQVZJR0FUSU9OX01FTlVfRUxFTUVOVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7SFRNTF9TRUxFQ1RPUlMuTkFWSUdBVElPTl9NRU5VfWApIGFzIEhUTUxFbGVtZW50XG5cbiAgICAgICAgZm9yKGNvbnN0IG5hdmlnYXRpb25Ud29FbGVtZW50IG9mIFRJVExFX1RXT19FTEVNRU5UUykge1xuICAgICAgICAgICAgbGlzdFRvUmV0dXJuLnB1c2gobmV3IENoYXB0ZXIobmF2aWdhdGlvblR3b0VsZW1lbnQsIE5BVklHQVRJT05fTUVOVV9FTEVNRU5UKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc29sdmUobGlzdFRvUmV0dXJuLnJldmVyc2UoKSlcblxuICAgICAgICByZWplY3QobmV3IEVycm9yKFwiY2FuJ3QgZ2V0IGxpc3Qgb2YgbGV2ZWwgdHdvIGluIG5hdmlnYXRpb24gbWVudVwiKSlcbiAgICB9KVxufVxuXG5jbGFzcyBDaGFwdGVyIHtcbiAgICBwcml2YXRlIF9lbGVtZW50OiBIVE1MRWxlbWVudFxuXG4gICAgcHJpdmF0ZSBfZWxlbWVudEluTWVudTogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWRcblxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBuYXZpZ2F0aW9uTWVudUVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50XG4gICAgICAgIHRoaXMuX2VsZW1lbnRJbk1lbnUgPSB0aGlzLmdldEVsZW1lbnRJbk1lbnUobmF2aWdhdGlvbk1lbnVFbGVtZW50KVxuICAgIH1cblxuICAgIGdldCBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIDw9IHdpbmRvdy5pbm5lckhlaWdodCAvIDJcbiAgICB9XG5cbiAgICBzZXQgY2xhc3NuYW1lKGNsYXNzbmFtZTogXCJhY3RpdmVcInxcInVuYWN0aXZlXCIpIHtcbiAgICAgICAgaWYoY2xhc3NuYW1lID09PSBcImFjdGl2ZVwiKSB7XG4gICAgICAgICAgICBpZighIHRoaXMuX2VsZW1lbnRJbk1lbnVDb250YWluc0FjdGl2ZUNsYXNzKSB7XG4gICAgICAgICAgICAgICAgKHRoaXMuX2VsZW1lbnRJbk1lbnUgYXMgSFRNTEVsZW1lbnQpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmKHRoaXMuX2VsZW1lbnRJbk1lbnVDb250YWluc0FjdGl2ZUNsYXNzKSB7XG4gICAgICAgICAgICAgICAgKHRoaXMuX2VsZW1lbnRJbk1lbnUgYXMgSFRNTEVsZW1lbnQpLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RWxlbWVudEluTWVudShuYXZpZ2F0aW9uTWVudUVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGxpc3RPZkxldmVsVHdvSW5NZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgJHtIVE1MX1NFTEVDVE9SUy5OQVZJR0FUSU9OX01FTlV9ID4gbGkgPiB1bCA+IGxpID4gYWApIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+XG5cbiAgICAgICAgZm9yKGNvbnN0IGxldmVsVHdvRWxlbWVudCBvZiBsaXN0T2ZMZXZlbFR3b0luTWVudSkge1xuICAgICAgICAgICAgaWYobGV2ZWxUd29FbGVtZW50LmdldEF0dHJpYnV0ZShcImhyZWZcIikgPT09IFwiI1wiICsgdGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsZXZlbFR3b0VsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IF9lbGVtZW50SW5NZW51Q29udGFpbnNBY3RpdmVDbGFzcygpIHtcbiAgICAgICAgaWYodGhpcy5fZWxlbWVudEluTWVudSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudEluTWVudS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtLb3RsaW5QbGF5Z3JvdW5kfSBmcm9tIFwiLi9Lb3RsaW5QbGF5Z3JvdW5kXCJcbmltcG9ydCB7RWRpdG9yfSBmcm9tIFwiLi9FZGl0b3JcIlxuaW1wb3J0IHthZGRTY3JvbGxFdmVudExpc3RlbmVyfSBmcm9tIFwiLi4vYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lclwiXG5pbXBvcnQge0hUTUxfU0VMRUNUT1JTfSBmcm9tIFwiLi4vSFRNTF9TRUxFQ1RPUlNcIlxuXG5leHBvcnQgY2xhc3MgRWRpdG9yTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3Ioa290bGluRWRpdG9yczogRWRpdG9yW10pIHtcblxuICAgICAgICB0aGlzLl9lZGl0b3JzID0ga290bGluRWRpdG9yc1xuXG4gICAgICAgIHRoaXMuX3NldExpc3RlbmVyRm9yRWRpdG9yc0F1dG9FeGVjdXRpb24oKVxuICAgIH1cblxuICAgIHB1YmxpYyBydW5WaXNpYmxlRWRpdG9ycygpIHtcbiAgICAgICAgZm9yKGNvbnN0IGVkaXRvciBvZiB0aGlzLl9lZGl0b3JzKSB7XG4gICAgICAgICAgICBpZihlZGl0b3IuaXNPblNjcmVlbiAmJiBlZGl0b3IuaGFzTm90QmVlbkV4ZWN1dGVkKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWN1dGUoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZWRpdG9yczogRWRpdG9yW10gPSBbXVxuXG4gICAgcHJpdmF0ZSBfc2V0TGlzdGVuZXJGb3JFZGl0b3JzQXV0b0V4ZWN1dGlvbigpIHtcbiAgICAgICAgYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lcigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJ1blZpc2libGVFZGl0b3JzKClcbiAgICAgICAgfSlcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlSFRNTEVsZW1lbnQodGFnTmFtZToga2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwLCBjb250ZW50Pzogc3RyaW5nIHwgSFRNTEVsZW1lbnRbXSwgY2xhc3NuYW1lPzogc3RyaW5nKSB7XG4gICAgY29uc3QgbmV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSlcblxuICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBuZXdFbGVtZW50LmlubmVySFRNTCA9IGNvbnRlbnRcbiAgICB9IGVsc2UgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgZm9yKGNvbnN0IGh0bWxFbGVtZW50IG9mIGNvbnRlbnQpIHtcbiAgICAgICAgICAgIG5ld0VsZW1lbnQuYXBwZW5kQ2hpbGQoaHRtbEVsZW1lbnQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZihjbGFzc25hbWUpIG5ld0VsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NuYW1lXG5cbiAgICByZXR1cm4gbmV3RWxlbWVudFxufSIsImltcG9ydCB7S290bGluUGxheWdyb3VuZH0gZnJvbSBcIi4vS290bGluUGxheWdyb3VuZFwiXG5pbXBvcnQge0hUTUxfU0VMRUNUT1JTfSBmcm9tIFwiLi4vSFRNTF9TRUxFQ1RPUlNcIlxuaW1wb3J0IHtjcmVhdGVIVE1MRWxlbWVudH0gZnJvbSBcIi4uL3Rvb2xzXCJcbmltcG9ydCB7UGxhdGZvcm1Pc05hbWV9IGZyb20gXCIuLi9nZXRVc2VyT3NcIlxuXG5kZWNsYXJlIGZ1bmN0aW9uIEtvdGxpblBsYXlncm91bmQoc2VsZWN0b3I6IHN0cmluZyB8wqBIVE1MRWxlbWVudCwgZXZlbnRGdW5jdGlvbnM/OiBLb3RsaW5QbGF5Z3JvdW5kLklFdmVudEZ1bmN0aW9ucyk6IFByb21pc2U8S290bGluUGxheWdyb3VuZC5JRWRpdG9ySW5zdGFuY2VbXT5cblxuXG5leHBvcnQgY2xhc3MgRWRpdG9yIHtcblxuICAgIHByaXZhdGUgVEVYVF9TSE9SVENVVCA9IHtcbiAgICAgICAgcnVuOiB7XG4gICAgICAgICAgICBtYWNPczogXCJDVFJMICsgUjogcnVuIGNvZGVcIixcbiAgICAgICAgICAgIHdpbmRvd3M6IFwiQ1RSTCArIEY5OiBydW4gY29kZVwiLFxuICAgICAgICAgICAgbGludXg6IFwiQ1RSTCArIEY5OiBydW4gY29kZVwiLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBQTEFURk9STV9PU19VU0VSX05BTUU6IFBsYXRmb3JtT3NOYW1lO1xuXG4gICAgcHJpdmF0ZSBNT1JFX1RIQU5fT05DRV9DT0RFX0NIQU5HRURfQ0xBU1NOQU1FID0gXCJtb3JlLXRoYW4tb25jZS1jb2RlLWNoYW5nZWRcIlxuICAgIHByaXZhdGUgU0hPUlRDVVRfSU5GT19DTEFTU05BTUUgPSBcInNob3J0Y3V0LWluZm8gY29tcGlsZXItaW5mb1wiXG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgc2VsZWN0b3I6IHN0cmluZyB8IEhUTUxFbGVtZW50LFxuICAgICAgICBwbGF0Zm9ybU9zTmFtZTogUGxhdGZvcm1Pc05hbWUsXG4gICAgICAgIG9uQ2hhbmdlPzogKGNvZGU6IHN0cmluZykgPT4gdm9pZFxuICAgICkge1xuICAgICAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yXG4gICAgICAgIHRoaXMuUExBVEZPUk1fT1NfVVNFUl9OQU1FID0gcGxhdGZvcm1Pc05hbWVcbiAgICAgICAgdGhpcy5fb25DaGFuZ2UgPSBvbkNoYW5nZVxuICAgIH1cblxuICAgIHByaXZhdGUgX3NlbGVjdG9yOiBzdHJpbmcgfCBIVE1MRWxlbWVudFxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBfb25DaGFuZ2U/OiAoY29kZTogc3RyaW5nKSA9PiB2b2lkXG5cbiAgICBwdWJsaWMgaW5pdCgpOiBQcm9taXNlPEVkaXRvcj4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBLb3RsaW5QbGF5Z3JvdW5kKHRoaXMuX3NlbGVjdG9yLCB0aGlzLl9ldmVudEZ1bmN0aW9ucykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5fS290bGluUGxheWdyb3VuZEVkaXRvckluc3RhbmNlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa290bGluRWRpdG9yQ29udGFpbmVyID0gdGhpcy5fS290bGluUGxheWdyb3VuZEVkaXRvckluc3RhbmNlLm5vZGVzWzBdXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZUFyZWEgPSB0aGlzLl9rb3RsaW5FZGl0b3JDb250YWluZXIucXVlcnlTZWxlY3RvcihIVE1MX1NFTEVDVE9SUy5DT0RFX0FSRUEpXG5cbiAgICAgICAgICAgICAgICAgICAgaWYoY29kZUFyZWEgIT09IG51bGwgJiYgY29kZUFyZWEgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29kZUFyZWEgPSBjb2RlQXJlYVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2RlTWlycm9yU3R5bGVFbGVtZW50ID0gY29kZUFyZWEucXVlcnlTZWxlY3RvcihcIi5Db2RlTWlycm9yXCIpIGFzIEhUTUxEaXZFbGVtZW50XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVkaXRvclRoZW1lQ2xhc3NuYW1lID0gRWRpdG9yLmdldENvb2tpZShcInRoZW1lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWRpdG9yVGhlbWVDbGFzc25hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlTWlycm9yU3R5bGVFbGVtZW50LmNsYXNzTGlzdC5hZGQoYGNtLXMtJHtlZGl0b3JUaGVtZUNsYXNzbmFtZX1gKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSggdGhpcyApXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGdldENvb2tpZShuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58ICknICsgbmFtZSArICc9KFteO10rKScpKTtcblxuICAgICAgICBpZiAobWF0Y2gpIHJldHVybiBtYXRjaFsyXTtcbiAgICAgICAgZWxzZSByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHByaXZhdGUgX2tvdGxpbkVkaXRvckNvbnRhaW5lcj86IEhUTUxFbGVtZW50XG4gICAgZ2V0IGtvdGxpbkVkaXRvckNvbnRhaW5lcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tvdGxpbkVkaXRvckNvbnRhaW5lclxuICAgIH1cblxuICAgIHByaXZhdGUgX2NvZGVBcmVhPzogSFRNTEVsZW1lbnRcbiAgICBwdWJsaWMgZ2V0IGNvZGVBcmVhKCkge3JldHVybiB0aGlzLl9jb2RlQXJlYX1cblxuICAgIHB1YmxpYyBnZXQgYm90dG9tX29mX2NvZGVBcmVhX2lzX2Fib3ZlX2JvdHRvbV9vZl9zY3JlZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvZGVBcmVhID8gdGhpcy5jb2RlQXJlYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gPj0gMCA6IGZhbHNlXG4gICAgfVxuICAgIHB1YmxpYyBnZXQgYm90dG9tX29mX2NvZGVBcmVhX2lzX2JlbG93X3RvcF9vZl9zY3JlZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvZGVBcmVhID8gdGhpcy5jb2RlQXJlYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gPD0gd2luZG93LmlubmVySGVpZ2h0IDogZmFsc2VcbiAgICB9XG5cbiAgICBwcml2YXRlIF9oYXNCZWVuRXhlY3V0ZWQgPSBmYWxzZVxuICAgIHB1YmxpYyBnZXQgaGFzTm90QmVlbkV4ZWN1dGVkKCkgeyByZXR1cm4gIXRoaXMuX2hhc0JlZW5FeGVjdXRlZH1cblxuICAgIHB1YmxpYyBnZXQgaXNPblNjcmVlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX0tvdGxpblBsYXlncm91bmRFZGl0b3JJbnN0YW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tX29mX2NvZGVBcmVhX2lzX2Fib3ZlX2JvdHRvbV9vZl9zY3JlZW4gJiYgdGhpcy5ib3R0b21fb2ZfY29kZUFyZWFfaXNfYmVsb3dfdG9wX29mX3NjcmVlblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGV4ZWN1dGUoKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmKCB0aGlzLl9Lb3RsaW5QbGF5Z3JvdW5kRWRpdG9ySW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNCZWVuRXhlY3V0ZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgdGhpcy5fS290bGluUGxheWdyb3VuZEVkaXRvckluc3RhbmNlLmV4ZWN1dGUoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiY2FuJ3QgZXhlY3V0ZSBrb3RsaW4gcGxheWdyb3VuZCBlZGl0b3JcIikpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2V2ZW50RnVuY3Rpb25zOiBLb3RsaW5QbGF5Z3JvdW5kLklFdmVudEZ1bmN0aW9ucyA9IHtcbiAgICAgICAgZ2V0SW5zdGFuY2U6IChlZGl0b3I6IEtvdGxpblBsYXlncm91bmQuSUVkaXRvckluc3RhbmNlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9Lb3RsaW5QbGF5Z3JvdW5kRWRpdG9ySW5zdGFuY2UgPSBlZGl0b3JcbiAgICAgICAgfSxcbiAgICAgICAgb25DaGFuZ2U6IChjb2RlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZENvdW50ZXIrK1xuXG4gICAgICAgICAgICBpZih0aGlzLmNoYW5nZWRDb3VudGVyID09PSAyKSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5rb3RsaW5FZGl0b3JDb250YWluZXIpIHtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dEluU2hvcnRjdXRIZWxwZXJFbGVtZW50OiBzdHJpbmdcblxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuUExBVEZPUk1fT1NfVVNFUl9OQU1FKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiT1MgWFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRJblNob3J0Y3V0SGVscGVyRWxlbWVudCA9IHRoaXMuVEVYVF9TSE9SVENVVC5ydW4ubWFjT3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIldpbmRvd3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0SW5TaG9ydGN1dEhlbHBlckVsZW1lbnQgPSB0aGlzLlRFWFRfU0hPUlRDVVQucnVuLndpbmRvd3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkxpbnV4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEluU2hvcnRjdXRIZWxwZXJFbGVtZW50ID0gdGhpcy5URVhUX1NIT1JUQ1VULnJ1bi5saW51eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRJblNob3J0Y3V0SGVscGVyRWxlbWVudCA9IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuUExBVEZPUk1fT1NfVVNFUl9OQU1FICE9PSBcIk90aGVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua290bGluRWRpdG9yQ29udGFpbmVyLmFwcGVuZENoaWxkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUhUTUxFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVIVE1MRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRJblNob3J0Y3V0SGVscGVyRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUhUTUxFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDVFJMICsgU1BBQ0U6IGNvZGUgY29tcGxldGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU0hPUlRDVVRfSU5GT19DTEFTU05BTUVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmtvdGxpbkVkaXRvckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKHRoaXMuTU9SRV9USEFOX09OQ0VfQ09ERV9DSEFOR0VEX0NMQVNTTkFNRSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX29uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25DaGFuZ2UoY29kZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBfS290bGluUGxheWdyb3VuZEVkaXRvckluc3RhbmNlPzogS290bGluUGxheWdyb3VuZC5JRWRpdG9ySW5zdGFuY2VcbiAgICBnZXQgS290bGluUGxheWdyb3VuZEVkaXRvckluc3RhbmNlKCkge3JldHVybiB0aGlzLl9Lb3RsaW5QbGF5Z3JvdW5kRWRpdG9ySW5zdGFuY2V9XG5cbiAgICBwcml2YXRlIGNoYW5nZWRDb3VudGVyID0gMFxufSIsImltcG9ydCBwbGF0Zm9ybSBmcm9tIFwicGxhdGZvcm1cIlxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlck9zKCk6IFBsYXRmb3JtT3NOYW1lIHtcbiAgICBpZihwbGF0Zm9ybS5vcykge1xuICAgICAgICBzd2l0Y2ggKHBsYXRmb3JtLm9zLmZhbWlseSkge1xuICAgICAgICAgICAgY2FzZSBcIldpbmRvd3NcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJXaW5kb3dzXCJcbiAgICAgICAgICAgIGNhc2UgXCJPUyBYXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiT1MgWFwiXG4gICAgICAgICAgICBjYXNlIFwiVWJ1bnR1XCIgfHwgXCJEZWJpYW5cIiB8fCBcIkZlZG9yYVwiIHx8IFwiUmVkIEhhdFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIkxpbnV4XCJcbiAgICAgICAgICAgIGRlZmF1bHQgOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIk90aGVyXCJcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcIk90aGVyXCJcbiAgICB9XG59XG5cbmV4cG9ydCB0eXBlIFBsYXRmb3JtT3NOYW1lID0gXCJXaW5kb3dzXCIgfCBcIk9TIFhcIiB8IFwiTGludXhcIiB8IFwiT3RoZXJcIlxuXG4iLCJpbXBvcnQge3NldE1lbnVQb3NpdGlvbn0gZnJvbSBcIi4vbmF2aWdhdGlvbi9zZXRNZW51UG9zaXRpb25cIlxuaW1wb3J0IHtIVE1MX1NFTEVDVE9SU30gZnJvbSBcIi4vSFRNTF9TRUxFQ1RPUlNcIlxuaW1wb3J0IHtzZXRDdXJyZW50U2VjdGlvbk5hbWV9IGZyb20gXCIuL25hdmlnYXRpb24vc2V0Q3VycmVudFNlY3Rpb25OYW1lXCJcbmltcG9ydCB7c2V0TmF2aWdhdGlvbk1lbnV9IGZyb20gXCIuL25hdmlnYXRpb24vc2V0TmF2aWdhdGlvbk1lbnVcIlxuaW1wb3J0IHtzZXRFZGl0b3JzTWFuYWdlcn0gZnJvbSBcIi4vZWRpdG9yL3NldEVkaXRvcnNNYW5hZ2VyXCJcbmltcG9ydCB7dXJsU2NyaXB0SGlzdG9yeX0gZnJvbSBcIi4vcGxheWdyb3VuZC9tYWluXCJcblxuZGVjbGFyZSBjb25zdCBwbGF5Z3JvdW5kOiBib29sZWFuIHwgdW5kZWZpbmVkXG5cbmZ1bmN0aW9uIGlzUGxheWdyb3VuZCgpOiBib29sZWFuIHtcbiAgICBpZiAocGxheWdyb3VuZCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2VcbiAgICBlbHNlIHJldHVybiBwbGF5Z3JvdW5kXG59XG5cbmlmKGlzUGxheWdyb3VuZCgpKSB7XG4gICAgdXJsU2NyaXB0SGlzdG9yeSgpXG59IGVsc2Uge1xuICAgIHNldEVkaXRvcnNNYW5hZ2VyKCkudGhlbigoZWRpdG9yTWFuYWdlcikgPT4ge1xuICAgICAgICBlZGl0b3JNYW5hZ2VyLnJ1blZpc2libGVFZGl0b3JzKClcbiAgICB9KVxuXG4gICAgc2V0TWVudVBvc2l0aW9uKFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKEhUTUxfU0VMRUNUT1JTLkNPTlRFTlQpIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKEhUTUxfU0VMRUNUT1JTLlRPUF9IRUFERVIpIGFzIEhUTUxFbGVtZW50LFxuICAgIClcblxuICAgIHNldEN1cnJlbnRTZWN0aW9uTmFtZSgpXG5cbiAgICBzZXROYXZpZ2F0aW9uTWVudSgpXG59XG5cbiIsIi8vIGltcG9ydCBKU1ppcCBmcm9tIFwianN6aXBcIlxuLy9cbi8vIGNvbnN0IHppcCA9IG5ldyBKU1ppcCgpXG4vL1xuLy8gZnVuY3Rpb24gZGVjb2RlKHN0cmluZzogc3RyaW5nKSB7XG4vLyAgICAgdmFyIHQgPSBEYXRlLm5vdygpO1xuLy8gICAgIHZhciByZXMgPSBKU1ppcC51dGlscy51aW50OEFycmF5MlN0cmluZyhcbi8vICAgICAgICAgSlNaaXAuY29tcHJlc3Npb25zLkRFRkxBVEUudW5jb21wcmVzcyhKU1ppcC5iYXNlNjQuZGVjb2RlKHN0cmluZykpXG4vLyAgICAgKTtcbi8vICAgICBhbGVydChEYXRlLm5vdygpIC0gdCk7XG4vLyAgICAgcmV0dXJuIHJlcztcbi8vIH1cbi8vXG4vLyBmdW5jdGlvbiBlbmNvZGUoc3RyaW5nOiBzdHJpbmcpIHtcbi8vICAgICB2YXIgdCA9IERhdGUubm93KCk7XG4vLyAgICAgdmFyIHJlcyA9IEpTWmlwLmJhc2U2NC5lbmNvZGUoSlNaaXAudXRpbHMudWludDhBcnJheTJTdHJpbmcoXG4vLyAgICAgICAgIEpTWmlwLmNvbXByZXNzaW9ucy5ERUZMQVRFLmNvbXByZXNzKHN0cmluZykpKTtcbi8vICAgICBhbGVydChEYXRlLm5vdygpIC0gdCk7XG4vLyAgICAgcmV0dXJuIHJlcztcbi8vIH1cblxuaW1wb3J0IHtFZGl0b3J9IGZyb20gXCIuLi9lZGl0b3IvRWRpdG9yXCJcbmltcG9ydCB7Z2V0VXNlck9zfSBmcm9tIFwiLi4vZ2V0VXNlck9zXCJcblxuZGVjbGFyZSBjb25zdCBSYXdEZWZsYXRlOiB7XG4gICAgaW5mbGF0ZTogKHN0cmluZzogc3RyaW5nKSA9PiBzdHJpbmdcbiAgICBkZWZsYXRlOiAoc3RyaW5nOiBzdHJpbmcpID0+IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgSVNjcmlwdERhdGEge1xuICAgIG5hbWU6IHN0cmluZyxcbiAgICBjb2RlOiBzdHJpbmcsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cmxTY3JpcHRIaXN0b3J5KCkge1xuICAgIGxldCBzY3JpcHREYXRhOiBJU2NyaXB0RGF0YSA9IHtcbiAgICAgICAgbmFtZTogJ2RhdGEydml6IHBsYXlncm91bmQnLFxuICAgICAgICBjb2RlOiAnY29uc29sZS5sb2coXCJoZWxsb1wiKScsXG4gICAgfTtcblxuICAgIGNvbnN0IHVybERhdGEgPSBnZXRVcmxEYXRhKClcblxuICAgIGNvbnN0IGNvZGVFbGVtZW50Rm9yS290bGluUGxheWdyb3VuZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5rb3RsaW4tY29kZScpXG5cbiAgICBpZihjb2RlRWxlbWVudEZvcktvdGxpblBsYXlncm91bmQgJiYgY29kZUVsZW1lbnRGb3JLb3RsaW5QbGF5Z3JvdW5kIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcblxuICAgICAgICBpZih1cmxEYXRhLmhhc1NjcmlwdERhdGEpIHtcbiAgICAgICAgICAgIHNjcmlwdERhdGEgPSB1cmxEYXRhLnNjcmlwdERhdGFcbiAgICAgICAgICAgIGNvZGVFbGVtZW50Rm9yS290bGluUGxheWdyb3VuZC50ZXh0Q29udGVudCA9IHNjcmlwdERhdGEuY29kZVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb25Db2RlQ2hhbmdlID0gKGNvZGU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgdXBkYXRlVXJsQW5kU2NyaXB0RGF0YShjb2RlLCBzY3JpcHREYXRhKVxuICAgICAgICB9XG5cbiAgICAgICAgbmV3IEVkaXRvcihjb2RlRWxlbWVudEZvcktvdGxpblBsYXlncm91bmQsIGdldFVzZXJPcygpLCBvbkNvZGVDaGFuZ2UpLmluaXQoKS50aGVuKGVkaXRvciA9PiB7XG4gICAgICAgICAgICBlZGl0b3IuZXhlY3V0ZSgpXG5cbiAgICAgICAgICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaGlzdG9yeSBuYXZpZ2F0aW9uXCIpXG5cbiAgICAgICAgICAgICAgICBpZihlZGl0b3IuS290bGluUGxheWdyb3VuZEVkaXRvckluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVkaXRvci5Lb3RsaW5QbGF5Z3JvdW5kRWRpdG9ySW5zdGFuY2UuY29kZW1pcnJvcilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVVcmxBbmRTY3JpcHREYXRhKGNvZGU6IHN0cmluZywgc2NyaXB0RGF0YTogSVNjcmlwdERhdGEpIHtcbiAgICBzY3JpcHREYXRhLmNvZGUgPSBjb2RlXG4gICAgdXBkYXRlSGFzaChzY3JpcHREYXRhKVxufVxuXG5mdW5jdGlvbiBnZXRVcmxEYXRhKCk6IHtoYXNTY3JpcHREYXRhOiBib29sZWFuLCBzY3JpcHREYXRhOiBJU2NyaXB0RGF0YX0ge1xuICAgIGNvbnN0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaFxuICAgIGNvbnN0IG1hdGNoID0gaGFzaC5tYXRjaCgvI1xcL1NcXC8oLiopJC8pXG5cbiAgICBjb25zdCBkZWZhdWx0UmV0dXJuID0ge1xuICAgICAgICBoYXNTY3JpcHREYXRhOiBmYWxzZSxcbiAgICAgICAgc2NyaXB0RGF0YToge1xuICAgICAgICAgICAgY29kZTogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZihtYXRjaCAmJiBtYXRjaFsxXSkge1xuICAgICAgICBjb25zdCBzY3JpcHRGcm9tVXJsOiBPYmplY3QgPSBKU09OLnBhcnNlKGRlY29kZShtYXRjaFsxXSkpXG5cbiAgICAgICAgaWYgKHNjcmlwdEZyb21VcmwuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpICYmIHNjcmlwdEZyb21VcmwuaGFzT3duUHJvcGVydHkoXCJjb2RlXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGhhc1NjcmlwdERhdGE6IHRydWUsXG4gICAgICAgICAgICAgICAgc2NyaXB0RGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiAoc2NyaXB0RnJvbVVybCBhcyBJU2NyaXB0RGF0YSkuY29kZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogKHNjcmlwdEZyb21VcmwgYXMgSVNjcmlwdERhdGEpLm5hbWUgKyBcIiB1cGRhdGVkXCIsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcInNjcmlwdCBmcm9tIHVybCBpc24ndCB0eXBlIG9mIElTY3JpcHREYXRhXCIpXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFJldHVyblxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRSZXR1cm5cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlY29kZShzdHJpbmc6IHN0cmluZykge1xuICAgIHJldHVybiBSYXdEZWZsYXRlLmluZmxhdGUod2luZG93LmF0b2Ioc3RyaW5nKSk7XG59XG5cbmZ1bmN0aW9uIGVuY29kZShzdHJpbmc6IHN0cmluZykge1xuICAgIHJldHVybiB3aW5kb3cuYnRvYShSYXdEZWZsYXRlLmRlZmxhdGUoc3RyaW5nKSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUhhc2goc2NyaXB0OiBJU2NyaXB0RGF0YSkge1xuICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gKFxuICAgIC8vICAgICAnL1MvJyArIGVuY29kZShKU09OLnN0cmluZ2lmeShzY3JpcHQpKVxuICAgIC8vICk7XG5cbiAgICBjb25zdCBsb2NhdGlvblBhdGggICAgICA9IFwiL3BsYXlncm91bmQvXCJcbiAgICBjb25zdCBsb2NhdGlvbkhhc2ggICAgICA9IGAvUy8ke2VuY29kZShKU09OLnN0cmluZ2lmeShzY3JpcHQpKX1gXG5cbiAgICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBcIlwiLCBgJHtsb2NhdGlvblBhdGh9IyR7bG9jYXRpb25IYXNofWApXG59XG4iLCJpbXBvcnQge0VkaXRvck1hbmFnZXJ9IGZyb20gXCIuL0VkaXRvck1hbmFnZXJcIlxuaW1wb3J0IHtFZGl0b3J9IGZyb20gXCIuL0VkaXRvclwiXG5pbXBvcnQge2dldFVzZXJPc30gZnJvbSBcIi4uL2dldFVzZXJPc1wiXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRFZGl0b3JzTWFuYWdlcigpOiBQcm9taXNlPEVkaXRvck1hbmFnZXI+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGNvbnN0IGNvZGVFbGVtZW50c0ZvcktvdGxpblBsYXlncm91bmRFZGl0b3JJbml0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmtvdGxpbi1jb2RlJylcblxuICAgICAgICBjb25zdCBsaXN0T2ZFZGl0b3I6IEVkaXRvcltdID0gW11cblxuICAgICAgICBsZXQgbnVtYmVyT2ZFZGl0b3JzSW5pdGlhbGlzZWQgPSAwXG5cbiAgICAgICAgZm9yKGNvbnN0IGNvZGVFbGVtZW50IG9mIGNvZGVFbGVtZW50c0ZvcktvdGxpblBsYXlncm91bmRFZGl0b3JJbml0KSB7XG4gICAgICAgICAgICBpZihjb2RlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgbGlzdE9mRWRpdG9yLnB1c2gobmV3IEVkaXRvcihjb2RlRWxlbWVudCwgZ2V0VXNlck9zKCkpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yKGNvbnN0IGVkaXRvciBvZiBsaXN0T2ZFZGl0b3IpIHtcbiAgICAgICAgICAgIGVkaXRvci5pbml0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZFZGl0b3JzSW5pdGlhbGlzZWQrK1xuICAgICAgICAgICAgICAgIGlmKG51bWJlck9mRWRpdG9yc0luaXRpYWxpc2VkID09PSBsaXN0T2ZFZGl0b3IubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRWRpdG9yTWFuYWdlcihsaXN0T2ZFZGl0b3IpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSlcbn1cbiIsImltcG9ydCB7YWRkU2Nyb2xsRXZlbnRMaXN0ZW5lcn0gZnJvbSBcIi4uL2FkZFNjcm9sbEV2ZW50TGlzdGVuZXJcIlxuaW1wb3J0IHtnZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3B9IGZyb20gXCIuLi9nZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3BcIlxuaW1wb3J0IHtIVE1MX1NFTEVDVE9SU30gZnJvbSBcIi4uL0hUTUxfU0VMRUNUT1JTXCJcblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0TWVudVBvc2l0aW9uKHJlZmVyZW5jZUVsZW1lbnRGb3JGaXhlZE1lbnU6IEhUTUxFbGVtZW50LCB0b3BFbGVtZW50Rml4ZWRPdmVyTWVudT86IEhUTUxFbGVtZW50KSB7XG5cbiAgICBjb25zdCBGSVhFRF9NRU5VX0NMQVNTX05BTUUgPSBcIm1lbnUtZml4ZWRcIlxuXG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHlcblxuICAgIGNvbnN0IGhlaWdodE9mRml4ZWRFbGVtZW50VGhhdEhpZGVzTWVudSA9IHRvcEVsZW1lbnRGaXhlZE92ZXJNZW51ID09PSB1bmRlZmluZWQgPyAgMCA6IHRvcEVsZW1lbnRGaXhlZE92ZXJNZW51LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodFxuXG4gICAgYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lcigoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb25Ub3BPZlJlZkVsZW1lbnQgPSBwYXJzZUludCggd2luZG93LmdldENvbXB1dGVkU3R5bGUocmVmZXJlbmNlRWxlbWVudEZvckZpeGVkTWVudSkucGFkZGluZ1RvcCBhcyBzdHJpbmcgKVxuXG4gICAgICAgIGNvbnN0IHJlZlBvc2l0aW9uRm9yRml4ZWRNZW51ID0gcG9zaXRpb25Ub3BPZlJlZkVsZW1lbnQgLSBoZWlnaHRPZkZpeGVkRWxlbWVudFRoYXRIaWRlc01lbnVcblxuICAgICAgICBpZihnZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3AoKSA+PSByZWZQb3NpdGlvbkZvckZpeGVkTWVudSAmJiAhYm9keS5jbGFzc0xpc3QuY29udGFpbnMoRklYRURfTUVOVV9DTEFTU19OQU1FKSl7XG4gICAgICAgICAgICBib2R5LmNsYXNzTGlzdC5hZGQoRklYRURfTUVOVV9DTEFTU19OQU1FKVxuICAgICAgICB9IGVsc2UgaWYgKGdldFBhZ2VTY3JvbGxQb3NpdGlvblRvcCgpIDw9IHJlZlBvc2l0aW9uRm9yRml4ZWRNZW51ICYmIGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKEZJWEVEX01FTlVfQ0xBU1NfTkFNRSkpIHtcbiAgICAgICAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShGSVhFRF9NRU5VX0NMQVNTX05BTUUpXG4gICAgICAgIH1cblxuICAgIH0pXG59XG4iLCJpbXBvcnQge0hUTUxfU0VMRUNUT1JTfSBmcm9tIFwiLi4vSFRNTF9TRUxFQ1RPUlNcIlxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3VycmVudFNlY3Rpb25OYW1lKCkge1xuICAgIGNvbnN0IGN1cnJlbnRTZWN0aW9uTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKEhUTUxfU0VMRUNUT1JTLkNVUlJFTlRfU0VDVElPTl9OQU1FKVxuXG4gICAgaWYoY3VycmVudFNlY3Rpb25OYW1lRWxlbWVudCkge1xuICAgICAgICBjdXJyZW50U2VjdGlvbk5hbWVFbGVtZW50LmlubmVySFRNTCA9IGdldEN1cnJlbnRTZWN0aW9uTmFtZSgpXG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50U2VjdGlvbk5hbWUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBwYWdlVGl0bGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImgxXCIpXG4gICAgaWYocGFnZVRpdGxlRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gcGFnZVRpdGxlRWxlbWVudC5pbm5lckhUTUxcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJcIlxuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=